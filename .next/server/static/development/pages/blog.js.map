{"version":3,"file":"static/development/pages/blog.js","sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-descriptor.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/symbol.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/symbol/iterator.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/weak-map.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/interopRequireDefault.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/interopRequireWildcard.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/typeof.js","webpack:///./node_modules/next/dist/client/link.js","webpack:///./node_modules/next/dist/client/router.js","webpack:///./node_modules/next/dist/client/with-router.js","webpack:///./node_modules/next/dist/next-server/lib/mitt.js","webpack:///./node_modules/next/dist/next-server/lib/router-context.js","webpack:///./node_modules/next/dist/next-server/lib/router/router.js","webpack:///./node_modules/next/dist/next-server/lib/router/utils/is-dynamic.js","webpack:///./node_modules/next/dist/next-server/lib/router/utils/route-matcher.js","webpack:///./node_modules/next/dist/next-server/lib/router/utils/route-regex.js","webpack:///./node_modules/next/dist/next-server/lib/utils.js","webpack:///./node_modules/next/link.js","webpack:///./node_modules/next/node_modules/react-is/cjs/react-is.development.js","webpack:///./node_modules/next/node_modules/react-is/index.js","webpack:///./src/articles sync \\.md$","webpack:///./src/articles/breaking-out-of-a-rut.md","webpack:///./src/articles/building-powerful-graphql-servers-with-rust.md","webpack:///./src/articles/edge-with-courage-reasonml.md","webpack:///./src/articles/how-types-improve-javascript.md","webpack:///./src/articles/intro-to-reasonml-variants.md","webpack:///./src/articles/reason-react-hooks-tutorial.md","webpack:///./src/articles/reasonml-with-graphql.md","webpack:///./src/components/BlogList.tsx","webpack:///./src/components/BlogListItem.tsx","webpack:///./src/components/Card.tsx","webpack:///./src/components/Header.tsx","webpack:///./src/components/Layout.tsx","webpack:///./src/components/Meta.tsx","webpack:///./src/pages/blog/index.tsx","webpack:///external \"core-js/library/fn/object/define-property\"","webpack:///external \"core-js/library/fn/object/get-own-property-descriptor\"","webpack:///external \"core-js/library/fn/symbol\"","webpack:///external \"core-js/library/fn/symbol/iterator\"","webpack:///external \"core-js/library/fn/weak-map\"","webpack:///external \"fast-sort\"","webpack:///external \"gray-matter\"","webpack:///external \"next/head\"","webpack:///external \"next/router\"","webpack:///external \"prop-types\"","webpack:///external \"prop-types-exact\"","webpack:///external \"react\"","webpack:///external \"styled-jsx/style\"","webpack:///external \"url\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// object to store loaded chunks\n \t// \"0\" means \"already loaded\"\n \tvar installedChunks = {\n \t\t\"static/development/pages/blog.js\": 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// require() chunk loading for javascript\n\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] !== 0) {\n \t\t\tvar chunk = require(\"../../..//\" + ({}[chunkId]||chunkId) + \".js\");\n \t\t\tvar moreModules = chunk.modules, chunkIds = chunk.ids;\n \t\t\tfor(var moduleId in moreModules) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t\tfor(var i = 0; i < chunkIds.length; i++)\n \t\t\t\tinstalledChunks[chunkIds[i]] = 0;\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// uncaught error handler for webpack runtime\n \t__webpack_require__.oe = function(err) {\n \t\tprocess.nextTick(function() {\n \t\t\tthrow err; // catch this error by using import().catch()\n \t\t});\n \t};\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = require(\"core-js/library/fn/object/define-property\");","module.exports = require(\"core-js/library/fn/object/get-own-property-descriptor\");","module.exports = require(\"core-js/library/fn/symbol\");","module.exports = require(\"core-js/library/fn/symbol/iterator\");","module.exports = require(\"core-js/library/fn/weak-map\");","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","var _Object$getOwnPropertyDescriptor = require(\"../core-js/object/get-own-property-descriptor\");\n\nvar _Object$defineProperty = require(\"../core-js/object/define-property\");\n\nvar _typeof = require(\"../helpers/typeof\");\n\nvar _WeakMap = require(\"../core-js/weak-map\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof _WeakMap !== \"function\") return null;\n  var cache = new _WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = _Object$defineProperty && _Object$getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        _Object$defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;","var _Symbol$iterator = require(\"../core-js/symbol/iterator\");\n\nvar _Symbol = require(\"../core-js/symbol\");\n\nfunction _typeof2(obj) { if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof _Symbol === \"function\" && _typeof2(_Symbol$iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","\"use strict\";var _interopRequireDefault=require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");exports.__esModule=true;exports.default=void 0;var _url=require(\"url\");var _react=_interopRequireWildcard(require(\"react\"));var _router=_interopRequireDefault(require(\"./router\"));var _utils=require(\"../next-server/lib/utils\");function isLocal(href){var url=(0,_url.parse)(href,false,true);var origin=(0,_url.parse)((0,_utils.getLocationOrigin)(),false,true);return!url.host||url.protocol===origin.protocol&&url.host===origin.host;}function memoizedFormatUrl(formatFunc){var lastHref=null;var lastAs=null;var lastResult=null;return(href,as)=>{if(lastResult&&href===lastHref&&as===lastAs){return lastResult;}var result=formatFunc(href,as);lastHref=href;lastAs=as;lastResult=result;return result;};}function formatUrl(url){return url&&typeof url==='object'?(0,_utils.formatWithValidation)(url):url;}var observer;var listeners=new Map();var IntersectionObserver=typeof window!=='undefined'?window.IntersectionObserver:null;var prefetched={};function getObserver(){// Return shared instance of IntersectionObserver if already created\nif(observer){return observer;}// Only create shared IntersectionObserver if supported in browser\nif(!IntersectionObserver){return undefined;}return observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(!listeners.has(entry.target)){return;}var cb=listeners.get(entry.target);if(entry.isIntersecting||entry.intersectionRatio>0){observer.unobserve(entry.target);listeners.delete(entry.target);cb();}});},{rootMargin:'200px'});}var listenToIntersections=(el,cb)=>{var observer=getObserver();if(!observer){return()=>{};}observer.observe(el);listeners.set(el,cb);return()=>{try{observer.unobserve(el);}catch(err){console.error(err);}listeners.delete(el);};};class Link extends _react.Component{constructor(props){super(props);this.p=void 0;this.cleanUpListeners=()=>{};this.formatUrls=memoizedFormatUrl((href,asHref)=>{return{href:formatUrl(href),as:asHref?formatUrl(asHref):asHref};});this.linkClicked=e=>{// @ts-ignore target exists on currentTarget\nvar{nodeName,target}=e.currentTarget;if(nodeName==='A'&&(target&&target!=='_self'||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&e.nativeEvent.which===2)){// ignore click for new tab / new window behavior\nreturn;}var{href,as}=this.formatUrls(this.props.href,this.props.as);if(!isLocal(href)){// ignore click if it's outside our scope (e.g. https://google.com)\nreturn;}var{pathname}=window.location;href=(0,_url.resolve)(pathname,href);as=as?(0,_url.resolve)(pathname,as):href;e.preventDefault();//  avoid scroll for urls with anchor refs\nvar{scroll}=this.props;if(scroll==null){scroll=as.indexOf('#')<0;}// replace state instead of push if prop is present\n_router.default[this.props.replace?'replace':'push'](href,as,{shallow:this.props.shallow}).then(success=>{if(!success)return;if(scroll){window.scrollTo(0,0);document.body.focus();}});};if(process.env.NODE_ENV!=='production'){if(props.prefetch){console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://err.sh/zeit/next.js/prefetch-true-deprecated');}}this.p=props.prefetch!==false;}componentWillUnmount(){this.cleanUpListeners();}getHref(){var{pathname}=window.location;var{href:parsedHref}=this.formatUrls(this.props.href,this.props.as);return(0,_url.resolve)(pathname,parsedHref);}handleRef(ref){var isPrefetched=prefetched[this.getHref()];if(this.p&&IntersectionObserver&&ref&&ref.tagName){this.cleanUpListeners();if(!isPrefetched){this.cleanUpListeners=listenToIntersections(ref,()=>{this.prefetch();});}}}// The function is memoized so that no extra lifecycles are needed\n// as per https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html\nprefetch(){if(!this.p||typeof window==='undefined')return;// Prefetch the JSON page if asked (only in the client)\nvar href=this.getHref();_router.default.prefetch(href);prefetched[href]=true;}render(){var{children}=this.props;var{href,as}=this.formatUrls(this.props.href,this.props.as);// Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\nif(typeof children==='string'){children=_react.default.createElement(\"a\",null,children);}// This will return the first child, if multiple are provided it will throw an error\nvar child=_react.Children.only(children);var props={ref:el=>{this.handleRef(el);if(child&&typeof child==='object'&&child.ref){if(typeof child.ref==='function')child.ref(el);else if(typeof child.ref==='object'){child.ref.current=el;}}},onMouseEnter:e=>{if(child.props&&typeof child.props.onMouseEnter==='function'){child.props.onMouseEnter(e);}this.prefetch();},onClick:e=>{if(child.props&&typeof child.props.onClick==='function'){child.props.onClick(e);}if(!e.defaultPrevented){this.linkClicked(e);}}};// If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n// defined, we specify the current 'href', so that repetition is not needed by the user\nif(this.props.passHref||child.type==='a'&&!('href'in child.props)){props.href=as||href;}// Add the ending slash to the paths. So, we can serve the\n// \"<page>/index.html\" directly.\nif(process.env.__NEXT_EXPORT_TRAILING_SLASH){var rewriteUrlForNextExport=require('../next-server/lib/router/rewrite-url-for-export').rewriteUrlForNextExport;if(props.href&&typeof __NEXT_DATA__!=='undefined'&&__NEXT_DATA__.nextExport){props.href=rewriteUrlForNextExport(props.href);}}return _react.default.cloneElement(child,props);}}if(process.env.NODE_ENV==='development'){var warn=(0,_utils.execOnce)(console.error);// This module gets removed by webpack.IgnorePlugin\nvar PropTypes=require('prop-types');var exact=require('prop-types-exact');// @ts-ignore the property is supported, when declaring it on the class it outputs an extra bit of code which is not needed.\nLink.propTypes=exact({href:PropTypes.oneOfType([PropTypes.string,PropTypes.object]).isRequired,as:PropTypes.oneOfType([PropTypes.string,PropTypes.object]),prefetch:PropTypes.bool,replace:PropTypes.bool,shallow:PropTypes.bool,passHref:PropTypes.bool,scroll:PropTypes.bool,children:PropTypes.oneOfType([PropTypes.element,(props,propName)=>{var value=props[propName];if(typeof value==='string'){warn(\"Warning: You're using a string directly inside <Link>. This usage has been deprecated. Please add an <a> tag as child of <Link>\");}return null;}]).isRequired});}var _default=Link;exports.default=_default;","\"use strict\";var _interopRequireWildcard=require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");var _interopRequireDefault=require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");exports.__esModule=true;exports.useRouter=useRouter;exports.makePublicRouterInstance=makePublicRouterInstance;exports.createRouter=exports.withRouter=exports.default=void 0;var _react=_interopRequireDefault(require(\"react\"));var _router2=_interopRequireWildcard(require(\"../next-server/lib/router/router\"));exports.Router=_router2.default;exports.NextRouter=_router2.NextRouter;var _routerContext=require(\"../next-server/lib/router-context\");var _withRouter=_interopRequireDefault(require(\"./with-router\"));exports.withRouter=_withRouter.default;/* global window */var singletonRouter={router:null,// holds the actual router instance\nreadyCallbacks:[],ready(cb){if(this.router)return cb();if(typeof window!=='undefined'){this.readyCallbacks.push(cb);}}};// Create public properties and methods of the router in the singletonRouter\nvar urlPropertyFields=['pathname','route','query','asPath','components'];var routerEvents=['routeChangeStart','beforeHistoryChange','routeChangeComplete','routeChangeError','hashChangeStart','hashChangeComplete'];var coreMethodFields=['push','replace','reload','back','prefetch','beforePopState'];// Events is a static property on the router, the router doesn't have to be initialized to use it\nObject.defineProperty(singletonRouter,'events',{get(){return _router2.default.events;}});urlPropertyFields.forEach(field=>{// Here we need to use Object.defineProperty because, we need to return\n// the property assigned to the actual router\n// The value might get changed as we change routes and this is the\n// proper way to access it\nObject.defineProperty(singletonRouter,field,{get(){var router=getRouter();return router[field];}});});coreMethodFields.forEach(field=>{// We don't really know the types here, so we add them later instead\n;singletonRouter[field]=function(){var router=getRouter();return router[field](...arguments);};});routerEvents.forEach(event=>{singletonRouter.ready(()=>{_router2.default.events.on(event,function(){var eventField=\"on\"+event.charAt(0).toUpperCase()+event.substring(1);var _singletonRouter=singletonRouter;if(_singletonRouter[eventField]){try{_singletonRouter[eventField](...arguments);}catch(err){// tslint:disable-next-line:no-console\nconsole.error(\"Error when running the Router event: \"+eventField);// tslint:disable-next-line:no-console\nconsole.error(err.message+\"\\n\"+err.stack);}}});});});function getRouter(){if(!singletonRouter.router){var message='No router instance found.\\n'+'You should only use \"next/router\" inside the client side of your app.\\n';throw new Error(message);}return singletonRouter.router;}// Export the singletonRouter and this is the public API.\nvar _default=singletonRouter;// Reexport the withRoute HOC\nexports.default=_default;function useRouter(){return _react.default.useContext(_routerContext.RouterContext);}// INTERNAL APIS\n// -------------\n// (do not use following exports inside the app)\n// Create a router and assign it as the singleton instance.\n// This is used in client side when we are initilizing the app.\n// This should **not** use inside the server.\nvar createRouter=function createRouter(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}singletonRouter.router=new _router2.default(...args);singletonRouter.readyCallbacks.forEach(cb=>cb());singletonRouter.readyCallbacks=[];return singletonRouter.router;};// This function is used to create the `withRouter` router instance\nexports.createRouter=createRouter;function makePublicRouterInstance(router){var _router=router;var instance={};for(var property of urlPropertyFields){if(typeof _router[property]==='object'){instance[property]=Object.assign({},_router[property]);// makes sure query is not stateful\ncontinue;}instance[property]=_router[property];}// Events is a static property on the router, the router doesn't have to be initialized to use it\ninstance.events=_router2.default.events;coreMethodFields.forEach(field=>{instance[field]=function(){return _router[field](...arguments);};});return instance;}","\"use strict\";var _interopRequireDefault=require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=withRouter;var _react=_interopRequireDefault(require(\"react\"));var _router=require(\"./router\");function withRouter(ComposedComponent){function WithRouterWrapper(props){return _react.default.createElement(ComposedComponent,Object.assign({router:(0,_router.useRouter)()},props));}WithRouterWrapper.getInitialProps=ComposedComponent.getInitialProps// This is needed to allow checking for custom getInitialProps in _app\n;WithRouterWrapper.origGetInitialProps=ComposedComponent.origGetInitialProps;if(process.env.NODE_ENV!=='production'){var name=ComposedComponent.displayName||ComposedComponent.name||'Unknown';WithRouterWrapper.displayName=\"withRouter(\"+name+\")\";}return WithRouterWrapper;}","\"use strict\";\n/*\nMIT License\n\nCopyright (c) Jason Miller (https://jasonformat.com/)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction mitt() {\n    const all = Object.create(null);\n    return {\n        on(type, handler) {\n            ;\n            (all[type] || (all[type] = [])).push(handler);\n        },\n        off(type, handler) {\n            if (all[type]) {\n                // tslint:disable-next-line:no-bitwise\n                all[type].splice(all[type].indexOf(handler) >>> 0, 1);\n            }\n        },\n        emit(type, ...evts) {\n            // eslint-disable-next-line array-callback-return\n            ;\n            (all[type] || []).slice().map((handler) => {\n                handler(...evts);\n            });\n        },\n    };\n}\nexports.default = mitt;\n","\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = __importStar(require(\"react\"));\nexports.RouterContext = React.createContext(null);\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst url_1 = require(\"url\");\nconst mitt_1 = __importDefault(require(\"../mitt\"));\nconst utils_1 = require(\"../utils\");\nconst is_dynamic_1 = require(\"./utils/is-dynamic\");\nconst route_matcher_1 = require(\"./utils/route-matcher\");\nconst route_regex_1 = require(\"./utils/route-regex\");\nfunction addBasePath(path) {\n    // @ts-ignore variable is always a string\n    const p = process.env.__NEXT_ROUTER_BASEPATH;\n    return path.indexOf(p) !== 0 ? p + path : path;\n}\nfunction toRoute(path) {\n    return path.replace(/\\/$/, '') || '/';\n}\nclass Router {\n    constructor(pathname, query, as, { initialProps, pageLoader, App, wrapApp, Component, err, subscription, }) {\n        // Static Data Cache\n        this.sdc = {};\n        this.onPopState = (e) => {\n            if (!e.state) {\n                // We get state as undefined for two reasons.\n                //  1. With older safari (< 8) and older chrome (< 34)\n                //  2. When the URL changed with #\n                //\n                // In the both cases, we don't need to proceed and change the route.\n                // (as it's already changed)\n                // But we can simply replace the state with the new changes.\n                // Actually, for (1) we don't need to nothing. But it's hard to detect that event.\n                // So, doing the following for (1) does no harm.\n                const { pathname, query } = this;\n                this.changeState('replaceState', utils_1.formatWithValidation({ pathname, query }), utils_1.getURL());\n                return;\n            }\n            // Make sure we don't re-render on initial load,\n            // can be caused by navigating back from an external site\n            if (e.state &&\n                this.isSsr &&\n                e.state.url === this.pathname &&\n                e.state.as === this.asPath) {\n                return;\n            }\n            // If the downstream application returns falsy, return.\n            // They will then be responsible for handling the event.\n            if (this._bps && !this._bps(e.state)) {\n                return;\n            }\n            const { url, as, options } = e.state;\n            if (process.env.NODE_ENV !== 'production') {\n                if (typeof url === 'undefined' || typeof as === 'undefined') {\n                    console.warn('`popstate` event triggered but `event.state` did not have `url` or `as` https://err.sh/zeit/next.js/popstate-state-empty');\n                }\n            }\n            this.replace(url, as, options);\n        };\n        this._getStaticData = (asPath, _cachedData) => {\n            let pathname = url_1.parse(asPath).pathname;\n            pathname = toRoute(!pathname || pathname === '/' ? '/index' : pathname);\n            return process.env.NODE_ENV === 'production' &&\n                (_cachedData = this.sdc[pathname])\n                ? Promise.resolve(_cachedData)\n                : fetch(\n                // @ts-ignore __NEXT_DATA__\n                `/_next/data/${__NEXT_DATA__.buildId}${pathname}.json`)\n                    .then(res => {\n                    if (!res.ok) {\n                        throw new Error(`Failed to load static props`);\n                    }\n                    return res.json();\n                })\n                    .then(data => {\n                    this.sdc[pathname] = data;\n                    return data;\n                })\n                    .catch((err) => {\n                    ;\n                    err.code = 'PAGE_LOAD_ERROR';\n                    throw err;\n                });\n        };\n        // represents the current component key\n        this.route = toRoute(pathname);\n        // set up the component cache (by route keys)\n        this.components = {};\n        // We should not keep the cache, if there's an error\n        // Otherwise, this cause issues when when going back and\n        // come again to the errored page.\n        if (pathname !== '/_error') {\n            this.components[this.route] = { Component, props: initialProps, err };\n        }\n        this.components['/_app'] = { Component: App };\n        // Backwards compat for Router.router.events\n        // TODO: Should be remove the following major version as it was never documented\n        // @ts-ignore backwards compatibility\n        this.events = Router.events;\n        this.pageLoader = pageLoader;\n        this.pathname = pathname;\n        this.query = query;\n        // if auto prerendered and dynamic route wait to update asPath\n        // until after mount to prevent hydration mismatch\n        this.asPath =\n            // @ts-ignore this is temporarily global (attached to window)\n            is_dynamic_1.isDynamicRoute(pathname) && __NEXT_DATA__.autoExport ? pathname : as;\n        this.sub = subscription;\n        this.clc = null;\n        this._wrapApp = wrapApp;\n        // make sure to ignore extra popState in safari on navigating\n        // back from external site\n        this.isSsr = true;\n        if (typeof window !== 'undefined') {\n            // in order for `e.state` to work on the `onpopstate` event\n            // we have to register the initial route upon initialization\n            this.changeState('replaceState', utils_1.formatWithValidation({ pathname, query }), as);\n            window.addEventListener('popstate', this.onPopState);\n        }\n    }\n    // @deprecated backwards compatibility even though it's a private method.\n    static _rewriteUrlForNextExport(url) {\n        if (process.env.__NEXT_EXPORT_TRAILING_SLASH) {\n            const rewriteUrlForNextExport = require('./rewrite-url-for-export')\n                .rewriteUrlForNextExport;\n            return rewriteUrlForNextExport(url);\n        }\n        else {\n            return url;\n        }\n    }\n    update(route, mod) {\n        const Component = mod.default || mod;\n        const data = this.components[route];\n        if (!data) {\n            throw new Error(`Cannot update unavailable route: ${route}`);\n        }\n        const newData = Object.assign(Object.assign({}, data), { Component });\n        this.components[route] = newData;\n        // pages/_app.js updated\n        if (route === '/_app') {\n            this.notify(this.components[this.route]);\n            return;\n        }\n        if (route === this.route) {\n            this.notify(newData);\n        }\n    }\n    reload() {\n        window.location.reload();\n    }\n    /**\n     * Go back in history\n     */\n    back() {\n        window.history.back();\n    }\n    /**\n     * Performs a `pushState` with arguments\n     * @param url of the route\n     * @param as masks `url` for the browser\n     * @param options object you can define `shallow` and other options\n     */\n    push(url, as = url, options = {}) {\n        return this.change('pushState', url, as, options);\n    }\n    /**\n     * Performs a `replaceState` with arguments\n     * @param url of the route\n     * @param as masks `url` for the browser\n     * @param options object you can define `shallow` and other options\n     */\n    replace(url, as = url, options = {}) {\n        return this.change('replaceState', url, as, options);\n    }\n    change(method, _url, _as, options) {\n        return new Promise((resolve, reject) => {\n            if (!options._h) {\n                this.isSsr = false;\n            }\n            // marking route changes as a navigation start entry\n            if (utils_1.ST) {\n                performance.mark('routeChange');\n            }\n            // If url and as provided as an object representation,\n            // we'll format them into the string version here.\n            const url = typeof _url === 'object' ? utils_1.formatWithValidation(_url) : _url;\n            let as = typeof _as === 'object' ? utils_1.formatWithValidation(_as) : _as;\n            // Add the ending slash to the paths. So, we can serve the\n            // \"<page>/index.html\" directly for the SSR page.\n            if (process.env.__NEXT_EXPORT_TRAILING_SLASH) {\n                const rewriteUrlForNextExport = require('./rewrite-url-for-export')\n                    .rewriteUrlForNextExport;\n                // @ts-ignore this is temporarily global (attached to window)\n                if (__NEXT_DATA__.nextExport) {\n                    as = rewriteUrlForNextExport(as);\n                }\n            }\n            this.abortComponentLoad(as);\n            // If the url change is only related to a hash change\n            // We should not proceed. We should only change the state.\n            // WARNING: `_h` is an internal option for handing Next.js client-side\n            // hydration. Your app should _never_ use this property. It may change at\n            // any time without notice.\n            if (!options._h && this.onlyAHashChange(as)) {\n                this.asPath = as;\n                Router.events.emit('hashChangeStart', as);\n                this.changeState(method, url, addBasePath(as), options);\n                this.scrollToHash(as);\n                Router.events.emit('hashChangeComplete', as);\n                return resolve(true);\n            }\n            const { pathname, query, protocol } = url_1.parse(url, true);\n            if (!pathname || protocol) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error(`Invalid href passed to router: ${url} https://err.sh/zeit/next.js/invalid-href-passed`);\n                }\n                return resolve(false);\n            }\n            // If asked to change the current URL we should reload the current page\n            // (not location.reload() but reload getInitialProps and other Next.js stuffs)\n            // We also need to set the method = replaceState always\n            // as this should not go into the history (That's how browsers work)\n            // We should compare the new asPath to the current asPath, not the url\n            if (!this.urlIsNew(as)) {\n                method = 'replaceState';\n            }\n            // @ts-ignore pathname is always a string\n            const route = toRoute(pathname);\n            const { shallow = false } = options;\n            if (is_dynamic_1.isDynamicRoute(route)) {\n                const { pathname: asPathname } = url_1.parse(as);\n                const routeRegex = route_regex_1.getRouteRegex(route);\n                const routeMatch = route_matcher_1.getRouteMatcher(routeRegex)(asPathname);\n                if (!routeMatch) {\n                    const missingParams = Object.keys(routeRegex.groups).filter(param => !query[param]);\n                    if (missingParams.length > 0) {\n                        if (process.env.NODE_ENV !== 'production') {\n                            console.warn(`Mismatching \\`as\\` and \\`href\\` failed to manually provide ` +\n                                `the params: ${missingParams.join(', ')} in the \\`href\\`'s \\`query\\``);\n                        }\n                        return reject(new Error(`The provided \\`as\\` value (${asPathname}) is incompatible with the \\`href\\` value (${route}). ` +\n                            `Read more: https://err.sh/zeit/next.js/incompatible-href-as`));\n                    }\n                }\n                else {\n                    // Merge params into `query`, overwriting any specified in search\n                    Object.assign(query, routeMatch);\n                }\n            }\n            Router.events.emit('routeChangeStart', as);\n            // If shallow is true and the route exists in the router cache we reuse the previous result\n            // @ts-ignore pathname is always a string\n            this.getRouteInfo(route, pathname, query, as, shallow).then(routeInfo => {\n                const { error } = routeInfo;\n                if (error && error.cancelled) {\n                    return resolve(false);\n                }\n                Router.events.emit('beforeHistoryChange', as);\n                this.changeState(method, url, addBasePath(as), options);\n                const hash = window.location.hash.substring(1);\n                if (process.env.NODE_ENV !== 'production') {\n                    const appComp = this.components['/_app'].Component;\n                    window.next.isPrerendered =\n                        appComp.getInitialProps === appComp.origGetInitialProps &&\n                            !routeInfo.Component.getInitialProps;\n                }\n                // @ts-ignore pathname is always defined\n                this.set(route, pathname, query, as, Object.assign(Object.assign({}, routeInfo), { hash }));\n                if (error) {\n                    Router.events.emit('routeChangeError', error, as);\n                    throw error;\n                }\n                Router.events.emit('routeChangeComplete', as);\n                return resolve(true);\n            }, reject);\n        });\n    }\n    changeState(method, url, as, options = {}) {\n        if (process.env.NODE_ENV !== 'production') {\n            if (typeof window.history === 'undefined') {\n                console.error(`Warning: window.history is not available.`);\n                return;\n            }\n            // @ts-ignore method should always exist on history\n            if (typeof window.history[method] === 'undefined') {\n                console.error(`Warning: window.history.${method} is not available`);\n                return;\n            }\n        }\n        if (method !== 'pushState' || utils_1.getURL() !== as) {\n            // @ts-ignore method should always exist on history\n            window.history[method]({\n                url,\n                as,\n                options,\n            }, null, as);\n        }\n    }\n    getRouteInfo(route, pathname, query, as, shallow = false) {\n        const cachedRouteInfo = this.components[route];\n        // If there is a shallow route transition possible\n        // If the route is already rendered on the screen.\n        if (shallow && cachedRouteInfo && this.route === route) {\n            return Promise.resolve(cachedRouteInfo);\n        }\n        return new Promise((resolve, reject) => {\n            if (cachedRouteInfo) {\n                return resolve(cachedRouteInfo);\n            }\n            this.fetchComponent(route).then(Component => resolve({ Component }), reject);\n        })\n            .then((routeInfo) => {\n            const { Component } = routeInfo;\n            if (process.env.NODE_ENV !== 'production') {\n                const { isValidElementType } = require('react-is');\n                if (!isValidElementType(Component)) {\n                    throw new Error(`The default export is not a React Component in page: \"${pathname}\"`);\n                }\n            }\n            return this._getData(() => Component.__N_SSG\n                ? this._getStaticData(as)\n                : this.getInitialProps(Component, \n                // we provide AppTree later so this needs to be `any`\n                {\n                    pathname,\n                    query,\n                    asPath: as,\n                })).then(props => {\n                routeInfo.props = props;\n                this.components[route] = routeInfo;\n                return routeInfo;\n            });\n        })\n            .catch(err => {\n            return new Promise(resolve => {\n                if (err.code === 'PAGE_LOAD_ERROR') {\n                    // If we can't load the page it could be one of following reasons\n                    //  1. Page doesn't exists\n                    //  2. Page does exist in a different zone\n                    //  3. Internal error while loading the page\n                    // So, doing a hard reload is the proper way to deal with this.\n                    window.location.href = as;\n                    // Changing the URL doesn't block executing the current code path.\n                    // So, we need to mark it as a cancelled error and stop the routing logic.\n                    err.cancelled = true;\n                    // @ts-ignore TODO: fix the control flow here\n                    return resolve({ error: err });\n                }\n                if (err.cancelled) {\n                    // @ts-ignore TODO: fix the control flow here\n                    return resolve({ error: err });\n                }\n                resolve(this.fetchComponent('/_error').then(Component => {\n                    const routeInfo = { Component, err };\n                    return new Promise(resolve => {\n                        this.getInitialProps(Component, {\n                            err,\n                            pathname,\n                            query,\n                        }).then(props => {\n                            routeInfo.props = props;\n                            routeInfo.error = err;\n                            resolve(routeInfo);\n                        }, gipErr => {\n                            console.error('Error in error page `getInitialProps`: ', gipErr);\n                            routeInfo.error = err;\n                            routeInfo.props = {};\n                            resolve(routeInfo);\n                        });\n                    });\n                }));\n            });\n        });\n    }\n    set(route, pathname, query, as, data) {\n        this.route = route;\n        this.pathname = pathname;\n        this.query = query;\n        this.asPath = as;\n        this.notify(data);\n    }\n    /**\n     * Callback to execute before replacing router state\n     * @param cb callback to be executed\n     */\n    beforePopState(cb) {\n        this._bps = cb;\n    }\n    onlyAHashChange(as) {\n        if (!this.asPath)\n            return false;\n        const [oldUrlNoHash, oldHash] = this.asPath.split('#');\n        const [newUrlNoHash, newHash] = as.split('#');\n        // Makes sure we scroll to the provided hash if the url/hash are the same\n        if (newHash && oldUrlNoHash === newUrlNoHash && oldHash === newHash) {\n            return true;\n        }\n        // If the urls are change, there's more than a hash change\n        if (oldUrlNoHash !== newUrlNoHash) {\n            return false;\n        }\n        // If the hash has changed, then it's a hash only change.\n        // This check is necessary to handle both the enter and\n        // leave hash === '' cases. The identity case falls through\n        // and is treated as a next reload.\n        return oldHash !== newHash;\n    }\n    scrollToHash(as) {\n        const [, hash] = as.split('#');\n        // Scroll to top if the hash is just `#` with no value\n        if (hash === '') {\n            window.scrollTo(0, 0);\n            return;\n        }\n        // First we check if the element by id is found\n        const idEl = document.getElementById(hash);\n        if (idEl) {\n            idEl.scrollIntoView();\n            return;\n        }\n        // If there's no element with the id, we check the `name` property\n        // To mirror browsers\n        const nameEl = document.getElementsByName(hash)[0];\n        if (nameEl) {\n            nameEl.scrollIntoView();\n        }\n    }\n    urlIsNew(asPath) {\n        return this.asPath !== asPath;\n    }\n    /**\n     * Prefetch `page` code, you may wait for the data during `page` rendering.\n     * This feature only works in production!\n     * @param url of prefetched `page`\n     */\n    prefetch(url) {\n        return new Promise((resolve, reject) => {\n            const { pathname, protocol } = url_1.parse(url);\n            if (!pathname || protocol) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error(`Invalid href passed to router: ${url} https://err.sh/zeit/next.js/invalid-href-passed`);\n                }\n                return;\n            }\n            // Prefetch is not supported in development mode because it would trigger on-demand-entries\n            if (process.env.NODE_ENV !== 'production') {\n                return;\n            }\n            // @ts-ignore pathname is always defined\n            const route = toRoute(pathname);\n            this.pageLoader.prefetch(route).then(resolve, reject);\n        });\n    }\n    async fetchComponent(route) {\n        let cancelled = false;\n        const cancel = (this.clc = () => {\n            cancelled = true;\n        });\n        const Component = await this.pageLoader.loadPage(route);\n        if (cancelled) {\n            const error = new Error(`Abort fetching component for route: \"${route}\"`);\n            error.cancelled = true;\n            throw error;\n        }\n        if (cancel === this.clc) {\n            this.clc = null;\n        }\n        return Component;\n    }\n    _getData(fn) {\n        let cancelled = false;\n        const cancel = () => {\n            cancelled = true;\n        };\n        this.clc = cancel;\n        return fn().then(data => {\n            if (cancel === this.clc) {\n                this.clc = null;\n            }\n            if (cancelled) {\n                const err = new Error('Loading initial props cancelled');\n                err.cancelled = true;\n                throw err;\n            }\n            return data;\n        });\n    }\n    getInitialProps(Component, ctx) {\n        const { Component: App } = this.components['/_app'];\n        const AppTree = this._wrapApp(App);\n        ctx.AppTree = AppTree;\n        return utils_1.loadGetInitialProps(App, {\n            AppTree,\n            Component,\n            router: this,\n            ctx,\n        });\n    }\n    abortComponentLoad(as) {\n        if (this.clc) {\n            const e = new Error('Route Cancelled');\n            e.cancelled = true;\n            Router.events.emit('routeChangeError', e, as);\n            this.clc();\n            this.clc = null;\n        }\n    }\n    notify(data) {\n        this.sub(data, this.components['/_app'].Component);\n    }\n}\nexports.default = Router;\nRouter.events = mitt_1.default();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Identify /[param]/ in route string\nconst TEST_ROUTE = /\\/\\[[^/]+?\\](?=\\/|$)/;\nfunction isDynamicRoute(route) {\n    return TEST_ROUTE.test(route);\n}\nexports.isDynamicRoute = isDynamicRoute;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getRouteMatcher(routeRegex) {\n    const { re, groups } = routeRegex;\n    return (pathname) => {\n        const routeMatch = re.exec(pathname);\n        if (!routeMatch) {\n            return false;\n        }\n        const decode = decodeURIComponent;\n        const params = {};\n        Object.keys(groups).forEach((slugName) => {\n            const g = groups[slugName];\n            const m = routeMatch[g.pos];\n            if (m !== undefined) {\n                params[slugName] = ~m.indexOf('/')\n                    ? m.split('/').map(entry => decode(entry))\n                    : g.repeat\n                        ? [decode(m)]\n                        : decode(m);\n            }\n        });\n        return params;\n    };\n}\nexports.getRouteMatcher = getRouteMatcher;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getRouteRegex(normalizedRoute) {\n    // Escape all characters that could be considered RegEx\n    const escapedRoute = (normalizedRoute.replace(/\\/$/, '') || '/').replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&');\n    const groups = {};\n    let groupIndex = 1;\n    const parameterizedRoute = escapedRoute.replace(/\\/\\\\\\[([^/]+?)\\\\\\](?=\\/|$)/g, (_, $1) => {\n        const isCatchAll = /^(\\\\\\.){3}/.test($1);\n        groups[$1\n            // Un-escape key\n            .replace(/\\\\([|\\\\{}()[\\]^$+*?.-])/g, '$1')\n            .replace(/^\\.{3}/, '')\n        // eslint-disable-next-line no-sequences\n        ] = { pos: groupIndex++, repeat: isCatchAll };\n        return isCatchAll ? '/(.+?)' : '/([^/]+?)';\n    });\n    return {\n        re: new RegExp('^' + parameterizedRoute + '(?:/)?$', 'i'),\n        groups,\n    };\n}\nexports.getRouteRegex = getRouteRegex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst url_1 = require(\"url\");\n/**\n * Utils\n */\nfunction execOnce(fn) {\n    let used = false;\n    let result = null;\n    return (...args) => {\n        if (!used) {\n            used = true;\n            result = fn.apply(this, args);\n        }\n        return result;\n    };\n}\nexports.execOnce = execOnce;\nfunction getLocationOrigin() {\n    const { protocol, hostname, port } = window.location;\n    return `${protocol}//${hostname}${port ? ':' + port : ''}`;\n}\nexports.getLocationOrigin = getLocationOrigin;\nfunction getURL() {\n    const { href } = window.location;\n    const origin = getLocationOrigin();\n    return href.substring(origin.length);\n}\nexports.getURL = getURL;\nfunction getDisplayName(Component) {\n    return typeof Component === 'string'\n        ? Component\n        : Component.displayName || Component.name || 'Unknown';\n}\nexports.getDisplayName = getDisplayName;\nfunction isResSent(res) {\n    return res.finished || res.headersSent;\n}\nexports.isResSent = isResSent;\nasync function loadGetInitialProps(App, ctx) {\n    var _a;\n    if (process.env.NODE_ENV !== 'production') {\n        if ((_a = App.prototype) === null || _a === void 0 ? void 0 : _a.getInitialProps) {\n            const message = `\"${getDisplayName(App)}.getInitialProps()\" is defined as an instance method - visit https://err.sh/zeit/next.js/get-initial-props-as-an-instance-method for more information.`;\n            throw new Error(message);\n        }\n    }\n    // when called from _app `ctx` is nested in `ctx`\n    const res = ctx.res || (ctx.ctx && ctx.ctx.res);\n    if (!App.getInitialProps) {\n        if (ctx.ctx && ctx.Component) {\n            // @ts-ignore pageProps default\n            return {\n                pageProps: await loadGetInitialProps(ctx.Component, ctx.ctx),\n            };\n        }\n        return {};\n    }\n    const props = await App.getInitialProps(ctx);\n    if (res && isResSent(res)) {\n        return props;\n    }\n    if (!props) {\n        const message = `\"${getDisplayName(App)}.getInitialProps()\" should resolve to an object. But found \"${props}\" instead.`;\n        throw new Error(message);\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        if (Object.keys(props).length === 0 && !ctx.ctx) {\n            console.warn(`${getDisplayName(App)} returned an empty object from \\`getInitialProps\\`. This de-optimizes and prevents automatic static optimization. https://err.sh/zeit/next.js/empty-object-getInitialProps`);\n        }\n    }\n    return props;\n}\nexports.loadGetInitialProps = loadGetInitialProps;\nexports.urlObjectKeys = [\n    'auth',\n    'hash',\n    'host',\n    'hostname',\n    'href',\n    'path',\n    'pathname',\n    'port',\n    'protocol',\n    'query',\n    'search',\n    'slashes',\n];\nfunction formatWithValidation(url, options) {\n    if (process.env.NODE_ENV === 'development') {\n        if (url !== null && typeof url === 'object') {\n            Object.keys(url).forEach(key => {\n                if (exports.urlObjectKeys.indexOf(key) === -1) {\n                    console.warn(`Unknown key passed via urlObject into url.format: ${key}`);\n                }\n            });\n        }\n    }\n    return url_1.format(url, options);\n}\nexports.formatWithValidation = formatWithValidation;\nexports.SP = typeof performance !== 'undefined';\nexports.ST = exports.SP &&\n    typeof performance.mark === 'function' &&\n    typeof performance.measure === 'function';\n","module.exports = require('./dist/client/link')\n","/** @license React v16.8.6\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\n\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace;\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' ||\n  // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE);\n}\n\n/**\n * Forked from fbjs/warning:\n * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js\n *\n * Only change is we use console.warn instead of console.error,\n * and do nothing when 'console' is not supported.\n * This really simplifies the code.\n * ---\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar lowPriorityWarning = function () {};\n\n{\n  var printWarning = function (format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.warn(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  lowPriorityWarning = function (condition, format) {\n    if (format === undefined) {\n      throw new Error('`lowPriorityWarning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\nvar lowPriorityWarning$1 = lowPriorityWarning;\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_LAZY_TYPE:\n      case REACT_MEMO_TYPE:\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\n\n// AsyncMode is deprecated along with isAsyncMode\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\n\nvar hasWarnedAboutDeprecatedIsAsyncMode = false;\n\n// AsyncMode should be deprecated\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true;\n      lowPriorityWarning$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.typeOf = typeOf;\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isValidElementType = isValidElementType;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","var map = {\n\t\"./breaking-out-of-a-rut.md\": \"./src/articles/breaking-out-of-a-rut.md\",\n\t\"./building-powerful-graphql-servers-with-rust.md\": \"./src/articles/building-powerful-graphql-servers-with-rust.md\",\n\t\"./edge-with-courage-reasonml.md\": \"./src/articles/edge-with-courage-reasonml.md\",\n\t\"./how-types-improve-javascript.md\": \"./src/articles/how-types-improve-javascript.md\",\n\t\"./intro-to-reasonml-variants.md\": \"./src/articles/intro-to-reasonml-variants.md\",\n\t\"./reason-react-hooks-tutorial.md\": \"./src/articles/reason-react-hooks-tutorial.md\",\n\t\"./reasonml-with-graphql.md\": \"./src/articles/reasonml-with-graphql.md\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/articles sync recursive \\\\.md$\";","export default \"---\\ntitle: Breaking Out of a Rut or Creative Block\\ndate: 2020-01-08T08:00:00.000Z\\nslug: breaking-out-of-a-rut\\ndescription: Break through your creative block and unleash the power within.\\ntags: productivity, webdev\\n---\\n\\nCreative professions can be great fun when you're in rhythm. In this state, the ideas emanate from your fingertips. When you're productive: you're hitting your deadlines.\\n\\nYou push metal at the gym, clean your room, and beat the Elite 4. You're the unstoppable force that will build the next unicorn.\\n\\nBut then things take a turn. You have personal stresses at home like a breakup or a fatal pet emergency. You suffer an injury while lifting weights or downhill mountain biking. Your mojo vanishes, even for no clear reason at all — it happens to everyone.\\n\\nRecently, I experienced a rut. It is a total lack of energy to do anything beside drink beer and watch all the Austin Powers movies. Not the worst fate, I will add, but I would like to do other things too.\\n\\nTo break out, I employed strategies that would help anyone whether you've been out of it for a single day or 6 months.\\n\\n## Action Yields Action\\n\\nConsider the how you might try to break out of a writers block. I wrote my last article on September 13, 2019, with the goal to continue writing articles. Every week, I would write about fantastic programming topics like Rust or ReasonML.\\n\\nNow it's 2020, and I'm writing the next one since then. I've had the intent to write _something_ on my mind almost every day for the past several months but I never did it.\\n\\nI sat down, wrote those first two sentences you can see above, and then vacuumed my living room.\\n\\nAnd then, I wrote the rest of it.\\n\\nMy point is, the simple act of scribbling those two sentences spawned a flurry of motivation. By writing two sentences, I had convinced myself that I could do it.\\n\\nI always _knew_ I could because I had written plenty of articles before. But subconsciously, I could not execute.\\n\\nI had created the **inspiration** that it would be possible to write this post. That **inspiration** led to **motivation** to continue writing, thus leading to more writing. That is the **action** which is our real goal here.\\n\\nWatch a motivational speaker or a Get-Rich-Quick guru. You may come away with the feeling of **inspiration**.\\n\\n\\\"Wow look at these people, they are so rich and so inspiring!\\\", you think. The crowd applauds until the final sales pitch, when they file out of the room.\\n\\nAfter you get home, then what? Flip on Netflix, after all, seeing those people was stressful and now its time to relax. Even though that presentation (or video, or book...) was inspiring, it does not always spur the **action** that will get you to where you want to be.\\n\\nMake a simple move towards where you want to be, and then dwell on it. Be proud of that effort, because it is proof that you can do it.\\n\\n## Try Not to Go All-In\\n\\nLet us suppose you put in a little action and now you have more energy and motivation than you know what to do with. What now? While you could try to exhaust all of it in one sitting, I advise against this.\\n\\nIt is more effective to be increasing in productivity day by day rather than blow it over a short period. A single burst of activity will sound cool. You can show off how productive you were that one day, but consider the trade-offs.\\n\\n- If you do too much, you force your brain to think you'll be working this hard every day.\\n\\n- If you use all of your energy, you may lead yourself right back into a rut when you're mentally exhausted the next day.\\n\\n- If you have a full time job _and_ you want to balance it with exercise, family, friends, and whatever other priorities you have... take it easy.\\n\\nMy suggestion is to start with small wins; a couple sentences, a new function/class, a single song on a guitar. When you've completed a simple action, the rest will follow.\\n\\nAfter you've been working at it for 20-50 minutes, take a break and reflect on what you accomplished. You can continue for another period of time, or you can trust the same technique to help you carry on tomorrow.\\n\\nSavor your victories today. The next ones will be bigger and even more rewarding. The goal is consistency.\\n\\n## Smaller, Yet Effective Tips\\n\\nHere are a few little tips I can offer up to get you out of the rut.\\n\\n- Eat well. I've had a pretty big boost in energy with Athletic Greens after I saw it mentioned on Tim Ferriss's show. They don't sponsor me but there's a ton of benefit for getting your full daily quota of veggies right away. Its part of my excuse to eat whatever else I'd like that day.\\n\\n- Don't overeat when you go out, save your leftovers. When I go out, I prefer pasta since I know it will also taste good later. Meal planned.\\n\\n- Cleaning your living space has a tremendous effect on what you feel you can accomplish.\\n\\n- Exercise often, but not too hard! I run a lot, but I am much more depleted throughout the day/week when I spent too much time around 90% of my maximum heart rate. If you exercise after work, understand that being mentally exhausted will affect your perceived effort.\\n\\n---\\n\\nI usually post articles that are heavy on the technical side. If you're interested in ReasonML or Rust, definitely check out my other works.\\n\\nIf you came here to get out of a rut, then I hope a little action helps lift you out.\\n\\nThanks for reading, and see you next time!\\n\";","export default \"---\\ntitle: Building Powerful GraphQL Servers with Rust\\ndate: 2019-09-13T07:00:00.000Z\\nslug: building-powerful-graphql-servers-with-rust\\ndescription: Let us see what goes into building a GraphQL server with Rust.\\ntags: rust,graphql,tutorial,webdev\\nhero_image: gears.jpg\\n---\\n\\n![](/gears.jpg)\\n\\n_Photo by Bill Oxford on Unsplash_\\n\\nSetting up a GraphQL server with Rust, Juniper, Diesel, and Actix; learning about Rust's web frameworks and powerful macros along the way.\\n\\nSource Code: [github.com/iwilsonq/rust-graphql-example](https://github.com/iwilsonq/rust-graphql-example)\\n\\nServing applications via GraphQL is quickly becoming the easiest and most effective way to deliver data to clients. Whether you're on a mobile device or a browser, it provides the data requested and nothing more.\\n\\nClient applications no longer need to stitch together information from separate data sources. GraphQL servers are in charge of the integration, eliminating the need for excess data and round-trip requests for data.\\n\\nOf course, this implies that the server has to handle aggregating data from different sources, such as home-owned backend services, databases, or third party APIs. This may be resource intensive, how can we optimize for CPU time?\\n\\nRust is a marvel of a language, pairing the raw performance of a low level language like C with the expressiveness of modern languages. It emphasizes type and memory safety, especially when there are potentially data races in concurrent operations.\\n\\nLet us see what goes into building a GraphQL server with Rust. We are going to learn about\\n\\n- Juniper GraphQL Server\\n- Actix web framework integrated with Juniper\\n- Diesel for quering a SQL database\\n- Useful Rust macros and derived traits for working with these libraries\\n\\n> Note that I will not go into detail regarding installing Rust or Cargo. This article assumes some preliminary knowledge of the Rust toolchain.\\n\\n## Setting up an HTTP Server\\n\\nTo begin, we need to initialize our project with `cargo` and then install dependencies.\\n\\n```sh\\n    cargo new rust-graphql-example\\n    cd rust-graphql-example\\n```\\n\\nThe initialization command bootstraps our Cargo.toml file which contains our projects dependencies as well as a [main.rs](http://main.rs) file which has a simple \\\"Hello World\\\" example.\\n\\n```rust\\n    // main.rs\\n\\n    fn main() {\\n      println!(\\\"Hello, world!\\\");\\n    }\\n```\\n\\nAs a sanity check, feel free to run `cargo run` in order to execute the program.\\n\\nInstalling the necessary libraries in Rust means adding a line containing the library name and version number. Let's update the dependencies sections of Cargo.toml like so:\\n\\n```rust\\n\\n    # Cargo.toml\\n\\n    [dependencies]\\n    actix-web = \\\"1.0.0\\\"\\n    diesel = { version = \\\"1.0.0\\\", features = [\\\"postgres\\\"] }\\n    dotenv = \\\"0.9.0\\\"\\n    env_logger = \\\"0.6\\\"\\n    futures = \\\"0.1\\\"\\n    juniper = \\\"0.13.1\\\"\\n    serde = \\\"1.0\\\"\\n    serde_derive = \\\"1.0\\\"\\n    serde_json = \\\"1.0\\\"\\n```\\n\\nThis article will cover implementing a GraphQL server using [Juniper](https://github.com/graphql-rust/juniper) as the GraphQL library and [Actix](https://actix.rs/) as the underlying HTTP server. Actix has a very nice API and works well with the stable version of Rust.\\n\\nWhen those lines are added, the next time the project compiles it will include those libraries. Before we compile, lets update main.rs with a basic HTTP server, handling the index route.\\n\\n```rust\\n    // main.rs\\n    use std::io;\\n\\n    use actix_web::{web, App, HttpResponse, HttpServer, Responder};\\n\\n    fn main() -> io::Result<()> {\\n        HttpServer::new(|| {\\n            App::new()\\n                .route(\\\"/\\\", web::get().to(index))\\n        })\\n        .bind(\\\"localhost:8080\\\")?\\n        .run()\\n    }\\n\\n    fn index() -> impl Responder {\\n        HttpResponse::Ok().body(\\\"Hello world!\\\")\\n    }\\n```\\n\\nThe first two lines at the top bring the module we need into scope. The main function here returns an `io::Result` type, which allows us to use the question mark as a shorthand for handling results.\\n\\nThe server's routing and configuration is created in the instance of `App`, which is created in a closure provided by the HTTP server's constructor.\\n\\nThe route itself is handled by the index function, whose name is arbitrary. As long as this function properly implements `Responder` it can be used as the parameter for the GET request at the index route.\\n\\nIf we were writing a REST API, we could proceed with adding more routes and associated handlers. We will see soon that we are trading a listing of route handlers for objects and their relations.\\n\\nNow we will introduce the GraphQL library.\\n\\n## Creating the GraphQL Schema\\n\\nAt the root of every GraphQL schema is a root query. From this root we can query lists of objects, specific objects, and whatever fields they might contain.\\n\\nCall this the QueryRoot, and we shall denote it with the same name in our code. Since we are not going to be setting up a database or any third party APIs, we'll be hard-coding the little data we have here.\\n\\nTo add a little color to this example, the schema will depict a generic list of members.\\n\\nUnder src, add a new file called graphql_schema.rs along with the following contents:\\n\\n```rust\\n    // graphql_schema.rs\\n    use juniper::{EmptyMutation, RootNode};\\n\\n    struct Member {\\n      id: i32,\\n      name: String,\\n    }\\n\\n    #[juniper::object(description = \\\"A member of a team\\\")]\\n    impl Member {\\n      pub fn id(&self) -> i32 {\\n        self.id\\n      }\\n\\n      pub fn name(&self) -> &str {\\n        self.name.as_str()\\n      }\\n    }\\n\\n    pub struct QueryRoot;\\n\\n    #[juniper::object]\\n    impl QueryRoot {\\n      fn members() -> Vec<Member> {\\n        vec![\\n          Member {\\n            id: 1,\\n            name: \\\"Link\\\".to_owned(),\\n          },\\n          Member {\\n            id: 2,\\n            name: \\\"Mario\\\".to_owned(),\\n          }\\n        ]\\n      }\\n    }\\n```\\n\\nAlong with our imports, we define our first GraphQL object in this project, the member. They are simple beings, with an id and name. We'll think about more complicated fields and patterns later.\\n\\nAfter stubbing out the `QueryRoot` type as a unit struct, we get to define the field itself. Juniper exposes a Rust macro called `object` which allows us to define fields on the different nodes throughout our schema. For now, we only have the QueryRoot node, so we'll expose a field called members on it.\\n\\nRust macros often have an unusual syntax compared to standard functions. They don't merely take some arguments and produce a result, they expand into much more complex code at compile time.\\n\\n## Exposing the Schema\\n\\nBelow our macro call to create the members field, we will define the `RootNode` type that we expose on our schema.\\n\\n```rust\\n    // graphql_schema.rs\\n\\n    pub type Schema = RootNode<'static, QueryRoot, EmptyMutation<()>>;\\n\\n    pub fn create_schema() -> Schema {\\n      Schema::new(QueryRoot {}, EmptyMutation::new())\\n    }\\n```\\n\\nBecause of the strong typing in Rust, we are forced to provide the mutation object argument. Juniper exposes an `EmptyMutation` struct for just this occasion, that is, when we want to create a read-only schema.\\n\\nNow that the schema is prepared, we can update our server in main.rs to handle the \\\"/graphql\\\" route. Since having a playground is also nice, we'll add a route for GraphiQL, the interactive GraphQL playground.\\n\\n```rust\\n    // main.rs\\n    #[macro_use]\\n    extern crate juniper;\\n\\n    use std::io;\\n    use std::sync::Arc;\\n\\n    use actix_web::{web, App, Error, HttpResponse, HttpServer};\\n    use futures::future::Future;\\n    use juniper::http::graphiql::graphiql_source;\\n    use juniper::http::GraphQLRequest;\\n\\n    mod graphql_schema;\\n\\n    use crate::graphql_schema::{create_schema, Schema};\\n\\n    fn main() -> io::Result<()> {\\n        let schema = std::sync::Arc::new(create_schema());\\n        HttpServer::new(move || {\\n            App::new()\\n                .data(schema.clone())\\n                .service(web::resource(\\\"/graphql\\\").route(web::post().to_async(graphql)))\\n                .service(web::resource(\\\"/graphiql\\\").route(web::get().to(graphiql)))\\n        })\\n        .bind(\\\"localhost:8080\\\")?\\n        .run()\\n    }\\n```\\n\\nYou'll notice I've specified a number of imports that we will be using, including the schema we've just created. Also see that:\\n\\n- we call `create_schema` inside an Arc (atomically reference counted), to allow shared immutable state across threads (cooking with 🔥 here I know)\\n- we mark the closure inside HttpServer::new with **move**, indicating that the closure takes ownership of the inner variables, that is, it gains a copy of `schema`\\n- `schema` is passed to the `data` method indicating that it is to be used inside the application as shared state between the two services\\n\\nWe must now implement the handlers for those two services. Starting with the \\\"/graphql\\\" route:\\n\\n```rust\\n    // main.rs\\n\\n    // fn main() ...\\n\\n    fn graphql(\\n        st: web::Data<Arc<Schema>>,\\n        data: web::Json<GraphQLRequest>,\\n    ) -> impl Future<Item = HttpResponse, Error = Error> {\\n        web::block(move || {\\n            let res = data.execute(&st, &());\\n            Ok::<_, serde_json::error::Error>(serde_json::to_string(&res)?)\\n        })\\n        .map_err(Error::from)\\n        .and_then(|user| {\\n            Ok(HttpResponse::Ok()\\n                .content_type(\\\"application/json\\\")\\n                .body(user))\\n        })\\n    }\\n```\\n\\nOur implementation of the \\\"/graphql\\\" route takes executes a GraphQL request against our schema from application state. It does this by creating a **future** from `web::block` and chaining handlers for success and error states.\\n\\nFutures are analogous to Promises in JavaScript, which is enough to understand this code snippet. For a greater explanation of Futures in Rust, I recommend [this article by Joe Jackson](https://www.viget.com/articles/understanding-futures-in-rust-part-1/).\\n\\nIn order to test out our GraphQL schema, we'll also add a handler for \\\"/graphiql\\\".\\n\\n```rust\\n    // main.rs\\n\\n    // fn graphql() ...\\n\\n    fn graphiql() -> HttpResponse {\\n        let html = graphiql_source(\\\"http://localhost:8080/graphql\\\");\\n        HttpResponse::Ok()\\n            .content_type(\\\"text/html; charset=utf-8\\\")\\n            .body(html)\\n    }\\n```\\n\\nThis handler is much simpler, it merely returns the html of the GraphiQL interactive playground. We only need to specify which path is serving our GraphQL schema, which is \\\"/graphql\\\" in this case.\\n\\nWith `cargo run` and navigation to [http://localhost:8080/graphiql](http://localhost:8080/graphiql), we can try out the field we configured.\\n\\n![Members query in graphiql](https://thepracticaldev.s3.amazonaws.com/i/t22qyi7xarthf9xm2yvl.png)\\n\\nIt does seem to take a little more effort than setting up a GraphQL server with [Node.js and Apollo](https://www.freecodecamp.org/news/learn-to-build-a-graphql-server-with-minimal-effort-fc7fcabe8ebd/) but the static typing of Rust combined with its incredible performance makes it a worthy trade — if you're willing to work at it.\\n\\n## Setting up Postgres for Real Data\\n\\nIf I stopped here, I wouldn't even be doing [the examples in the docs](https://graphql-rust.github.io/juniper/master/index.html) much justice. A static list of two members _that I wrote myself_ at dev time will not fly in this publication.\\n\\nInstalling Postgres and setting up your own database belongs in a different article, but I'll walk through how to install [diesel](http://diesel.rs), the popular Rust library for handling SQL databases.\\n\\n> [See here to install Postgres locally on your machine](https://www.postgresql.org/download/). You can also use a different database like MySQL in case you are more familiar with it.\\n\\nThe diesel CLI will walk us through initializing our tables. Let's install it:\\n\\n```sh\\n    cargo install diesel_cli --no-default-features --features postgres\\n```\\n\\nAfter that, we will add a connection URL to a .env file in our working directory:\\n\\n```sh\\n    echo DATABASE_URL=postgres://localhost/rust_graphql_example > .env\\n```\\n\\nOnce that's there, you can run:\\n\\n```sh\\n    diesel setup\\n\\n    # followed by\\n\\n    diesel migration generate create_members\\n```\\n\\nNow you'll have a migrations folder in your directory. Within it, you'll have two SQL files: one up.sql for setting up your database, the other down.sql for tearing it down.\\n\\nI will add the following to up.sql:\\n\\n```sql\\n    CREATE TABLE teams (\\n      id SERIAL PRIMARY KEY,\\n      name VARCHAR NOT NULL\\n    );\\n\\n    CREATE TABLE members (\\n      id SERIAL PRIMARY KEY,\\n      name VARCHAR NOT NULL,\\n      knockouts INT NOT NULL DEFAULT 0,\\n      team_id INT NOT NULL,\\n      FOREIGN KEY (team_id) REFERENCES teams(id)\\n    );\\n\\n    INSERT INTO teams(id, name) VALUES (1, 'Heroes');\\n    INSERT INTO members(name, knockouts, team_id) VALUES ('Link', 14, 1);\\n    INSERT INTO members(name, knockouts, team_id) VALUES ('Mario', 11, 1);\\n    INSERT INTO members(name, knockouts, team_id) VALUES ('Kirby', 8, 1);\\n\\n    INSERT INTO teams(id, name) VALUES (2, 'Villains');\\n    INSERT INTO members(name, knockouts, team_id) VALUES ('Ganondorf', 8, 2);\\n    INSERT INTO members(name, knockouts, team_id) VALUES ('Bowser', 11, 2);\\n    INSERT INTO members(name, knockouts, team_id) VALUES ('Mewtwo', 12, 2);\\n```\\n\\nAnd into down.sql I will add:\\n\\n```sql\\n    DROP TABLE members;\\n    DROP TABLE teams;\\n```\\n\\nIf you've written SQL in the past, these statements will make some sense. We are creating two tables, one to store teams and one to store members of those teams.\\n\\nI am modeling this data based on Smash Bros if you have not yet noticed. It helps the learning stick.\\n\\nNow to run the migrations:\\n\\n```sh\\n    diesel migration run\\n```\\n\\nIf you'd like to verify that the down.sql script works to destroy those tables, run: `diesel migration redo`.\\n\\nNow the reason why I named the GraphQL schema file graphql_schema.rs instead of schema.rs, is because diesel overwrites that file in our src direction by default.\\n\\nIt keeps a Rust macro representation of our SQL tables in that file. It is not so important to know how exactly this `table!` macro works, but try not to edit this file — the ordering of the fields matters!\\n\\n```rust\\n    // schema.rs (Generated by diesel cli)\\n\\n    table! {\\n        members (id) {\\n            id -> Int4,\\n            name -> Varchar,\\n            knockouts -> Int4,\\n            team_id -> Int4,\\n        }\\n    }\\n\\n    table! {\\n        teams (id) {\\n            id -> Int4,\\n            name -> Varchar,\\n        }\\n    }\\n\\n    joinable!(members -> teams (team_id));\\n\\n    allow_tables_to_appear_in_same_query!(\\n        members,\\n        teams,\\n    );\\n```\\n\\nFinally, thanks to a comment, we'll want to import diesel and expose the schema module in main.rs:\\n\\n```diff\\n\\n    #[macro_use]\\n+   extern crate diesel;\\n    extern crate juniper;\\n\\n    use std::io;\\n    use std::sync::Arc;\\n\\n    use actix_web::{web, App, Error, HttpResponse, HttpServer};\\n    use futures::future::Future;\\n    use juniper::http::graphiql::graphiql_source;\\n    use juniper::http::GraphQLRequest;\\n\\n    mod graphql_schema;\\n+   mod schema;\\n\\n    use crate::graphql_schema::{create_schema, Schema};\\n\\n\\n```\\n\\n## Wiring up our Handlers with Diesel\\n\\nIn order to serve the data in our tables, we must first update our `Member` struct with the new fields:\\n\\n```diff\\n// graphql_schema.rs\\n\\n+ #[derive(Queryable)]\\npub struct Member {\\n  pub id: i32,\\n  pub name: String,\\n+ pub knockouts: i32,\\n+ pub team_id: i32,\\n}\\n\\n#[juniper::object(description = \\\"A member of a team\\\")]\\nimpl Member {\\n  pub fn id(&self) -> i32 {\\n    self.id\\n  }\\n\\n  pub fn name(&self) -> &str {\\n    self.name.as_str()\\n  }\\n\\n+ pub fn knockouts(&self) -> i32 {\\n+   self.knockouts\\n+ }\\n\\n+ pub fn team_id(&self) -> i32 {\\n+   self.team_id\\n+ }\\n}\\n```\\n\\nNote that we are also adding the `Queryable` derived attribute to `Member`. This tells Diesel everything it needs to know in order to query the right table in Postgres.\\n\\nAdditionally, add a `Team` struct:\\n\\n```rust\\n    // graphql_schema.rs\\n\\n    #[derive(Queryable)]\\n    pub struct Team {\\n      pub id: i32,\\n      pub name: String,\\n    }\\n\\n    #[juniper::object(description = \\\"A team of members\\\")]\\n    impl Team {\\n      pub fn id(&self) -> i32 {\\n        self.id\\n      }\\n\\n      pub fn name(&self) -> &str {\\n        self.name.as_str()\\n      }\\n\\n      pub fn members(&self) -> Vec<Member> {\\n        vec![]\\n      }\\n    }\\n```\\n\\nIn a short while, we will update the `members` function on `Team` to return a database query. But first, let us add a root call for members.\\n\\n```diff\\n    // graphql_schema.rs\\n    + extern crate dotenv;\\n\\n    + use std::env;\\n\\n    + use diesel::pg::PgConnection;\\n    + use diesel::prelude::*;\\n    + use dotenv::dotenv;\\n    use juniper::{EmptyMutation, RootNode};\\n\\n    + use crate::schema::members;\\n\\n    pub struct QueryRoot;\\n\\n    +  fn establish_connection() -> PgConnection {\\n    +    dotenv().ok();\\n    +    let database_url = env::var(\\\"DATABASE_URL\\\").expect(\\\"DATABASE_URL must be set\\\");\\n    +    PgConnection::establish(&database_url).expect(&format!(\\\"Error connecting to {}\\\", database_url))\\n    +  }\\n\\n    #[juniper::object]\\n    impl QueryRoot {\\n      fn members() -> Vec<Member> {\\n    -   vec![\\n    -     Member {\\n    -       id: 1,\\n    -       name: \\\"Link\\\".to_owned(),\\n    -     },\\n    -     Member {\\n    -       id: 2,\\n    -       name: \\\"Mario\\\".to_owned(),\\n    -     }\\n    -   ]\\n    +   use crate::schema::members::dsl::*;\\n    +   let connection = establish_connection();\\n    +   members\\n    +     .limit(100)\\n    +     .load::<Member>(&connection)\\n    +     .expect(\\\"Error loading members\\\")\\n      }\\n    }\\n```\\n\\nVery good, we have our first usage of a diesel query. After initializing a connection, we use the members dsl, which is generated from our `table!` macros in schema.rs, and call **load**, indicating that we wish to load `Member` objects.\\n\\nEstablishing a connection means connecting to our local Postgres database by using the env variable we declared earlier.\\n\\nAssuming that was all input correctly, restart the server with `cargo run`, open GraphiQL and issue the members query, perhaps adding the two new fields.\\n\\nThe teams query will be very similar — the difference being we must also add a part of the query to the members function on the `Team` struct in order to resolve the relationship between GraphQL types.\\n\\n```rust\\n    // graphql_schema.rs\\n\\n    #[juniper::object]\\n    impl QueryRoot {\\n      fn members() -> Vec<Member> {\\n        use crate::schema::members::dsl::*;\\n        let connection = establish_connection();\\n        members\\n          .limit(100)\\n          .load::<Member>(&connection)\\n          .expect(\\\"Error loading members\\\")\\n      }\\n\\n    +  fn teams() -> Vec<Team> {\\n    +    use crate::schema::teams::dsl::*;\\n    +    let connection = establish_connection();\\n    +    teams\\n    +      .limit(10)\\n    +      .load::<Team>(&connection)\\n    +      .expect(\\\"Error loading teams\\\")\\n    +  }\\n    }\\n\\n    // ...\\n\\n    #[juniper::object(description = \\\"A team of members\\\")]\\n    impl Team {\\n      pub fn id(&self) -> i32 {\\n        self.id\\n      }\\n\\n      pub fn name(&self) -> &str {\\n        self.name.as_str()\\n      }\\n\\n      pub fn members(&self) -> Vec<Member> {\\n    -    vec![]\\n    +    use crate::schema::members::dsl::*;\\n    +    let connection = establish_connection();\\n    +    members\\n    +      .filter(team_id.eq(self.id))\\n    +      .limit(100)\\n    +      .load::<Member>(&connection)\\n    +      .expect(\\\"Error loading members\\\")\\n      }\\n    }\\n```\\n\\nWhen running this is GraphiQL, we get:\\n\\n![More complex query in graphiql](https://thepracticaldev.s3.amazonaws.com/i/1gsj02nf5m8le9ujjbr8.png)\\n\\nI really like the way this is turning out, but there is one more thing we must add in order to call this tutorial complete.\\n\\n## The Create Member Mutation\\n\\nWhat good is a server if it is read-only and not writable? Well I'm sure those have their uses too, but we would like to write data to our database, how hard can it be?\\n\\nFirst we'll create a `MutationRoot` struct that will eventually replace our usage of `EmptyMutation`. Then we will add the diesel insertion query.\\n\\n```rust\\n    // graphql_schema.rs\\n\\n    // ...\\n\\n    pub struct MutationRoot;\\n\\n    #[juniper::object]\\n    impl MutationRoot {\\n      fn create_member(data: NewMember) -> Member {\\n        let connection = establish_connection();\\n        diesel::insert_into(members::table)\\n          .values(&data)\\n          .get_result(&connection)\\n          .expect(\\\"Error saving new post\\\")\\n      }\\n    }\\n\\n    #[derive(juniper::GraphQLInputObject, Insertable)]\\n    #[table_name = \\\"members\\\"]\\n    pub struct NewMember {\\n      pub name: String,\\n      pub knockouts: i32,\\n      pub team_id: i32,\\n    }\\n```\\n\\nAs GraphQL mutations typically go, we define an input object called `NewMember` and make it the argument of the `create_member` function. Inside this function, we establish a connection and call the insert query on the members table, passing the entire input object.\\n\\nIt is super convenient that Rust allows us to use the same structs for GraphQL input objects as well as Diesel insertable objects.\\n\\nLet me make this a little more clear, for the `NewMember` struct:\\n\\n- we derive `juniper::GraphQLInputObject` in order to create a input object for our GraphQL schema\\n- we derive `Insertable` in order to let Diesel know that this struct is valid input for an insertion SQL statement\\n- we add the `table_name` attribute so that Diesel knows which table to insert it in\\n\\nThere is a lot of _magic_ going on here. This is what I love about Rust, it has great performance but the code has features like macros and derived traits to abstract away boilerplate and add functionality.\\n\\nFinally, at the bottom of the file, add the `MutationRoot` to the schema:\\n\\n```rust\\n    // graphql_schema.rs\\n\\n    pub type Schema = RootNode<'static, QueryRoot, MutationRoot>;\\n\\n    pub fn create_schema() -> Schema {\\n      Schema::new(QueryRoot {}, MutationRoot {})\\n    }\\n```\\n\\nI hope that everything is there, we can test out all of our queries and mutations thus far now:\\n\\n```graphql\\n# GraphiQL\\n\\nmutation CreateMemberMutation($data: NewMember!) {\\n  createMember(data: $data) {\\n    id\\n    name\\n    knockouts\\n    teamId\\n  }\\n}\\n\\n# example query variables\\n# {\\n#   \\\"data\\\": {\\n#     \\\"name\\\": \\\"Samus\\\",\\n#     \\\"knockouts\\\": 19,\\n#     \\\"teamId\\\": 1\\n#   }\\n# }\\n```\\n\\nIf that mutation ran successfully, you can pop open a bottle of champagne as you are on your way to building performant and type-safe GraphQL Servers with Rust.\\n\\n## Thanks For Reading\\n\\nI hope you have enjoyed this article, I also hope that it gave you some sort of inspiration for your own work.\\n\\nIf you'd like to keep up with the next time I drop an article in the realm of Rust, ReasonML, GraphQL, or software development at large, feel free to give me a follow on [Twitter](https://twitter.com/iwilson), [dev.to](https://dev.to/iwilsonq), or on my website at [ianwilson.io](https://ianwilson.io).\\n\\nThe source code is here [github.com/iwilsonq/rust-graphql-example](https://github.com/iwilsonq/rust-graphql-example).\\n\\n### Other Neat Reading Material\\n\\nHere are some of the libraries we worked with here. They have great documentation and guides as well so be sure to give them a read :)\\n\\n- [Implementation of Rust Futures in Tokio](https://tokio.rs/docs/getting-started/futures/)\\n- [Juniper - GraphQL Server for Rust](https://graphql-rust.github.io/juniper/master/index.html)\\n- [Diesel - Safe, Extensible ORM and Query Builder for Rust](http://diesel.rs/)\\n- [Actix - Rust's powerful actor system and most fun web framework](https://actix.rs/)\\n\";","export default \"---\\ntitle: The Edge, Wit, and Courage of ReasonML\\ndate: 2019-03-19T21:25:04.540Z\\nslug: edge-wit-courage-reasonml\\ndescription: Discover the features of Reason that make it so appealing to a JavaScript developer.\\ntags: reason,ocaml,javascript,fp\\nhero_image: steps.jpg\\n---\\n\\n![](/steps.jpg)\\n\\nReasonML has stolen my attention recently.\\n\\nIf I'm not at work or running about, I am probably digging into some ReasonML/OCaml repositories like an addict in the tenderloin.\\n\\nPerhaps I like it for the unparalleled incremental build speed.\\n\\nPerhaps I like it because its not too different from JavaScript yet it nets me a plethora of built-in advantages like type safety.\\n\\nPerhaps I like it because of my affinity for math in school, and the functional paradigm gives me a warm fuzzy feeling inside.\\n\\nThere are a few reasons, no pun intended, for my love of Reason. Just like a functional program wields function composition with immutable state to achieve its goal, Reason's composition of the best of OCaml and JavaScript make it a strong candidate for the future of programming.\\n\\n## The Edge of OCaml\\n\\nFor starters, Reason is basically a syntax upgrade to OCaml. Let me start by describing how that helps us.\\n\\n### Speed\\n\\nOCaml is a pretty damn fast language. It's incremental build times dwarf that of almost any other language. Since Reason is just a toolchain on top of OCaml, it maintains the many of the same characteristics of OCaml.\\n\\nFor instance take a look at this table from the docs of [fastpack](https://fastpack.sh), an alternative to Webpack or Parcel for bundling JavaScript applications.\\n\\n_~1100 modules / 5.3Mb / MB Pro 2017_\\n\\n|                  | Fastpack | Webpack | Parcel |\\n| ---------------- | -------- | ------- | ------ |\\n| initial build    | 0.811s   | 3.86s   | 11.07s |\\n| persistent cache | 0.208s   | N/A     | 1.39s  |\\n| watch mode       | 0.088s   | 0.226s  | 0.291s |\\n\\nFastpack is still rather new but these numbers are promising -- and the result implies we can made super-quick devtools for a vanilla JavaScript workflow.\\n\\n### Static Typing\\n\\nAnother thing Reason inherits from OCaml is a power, nearly impenetrable type system. The compiler does a solid job of making sure you exhaust all of your options in branching logic.\\n\\nIt also does away with silly errors like \\\"undefined is not a function\\\" or \\\"cannot read property 'x'\\\". The same could be said about adopting TypeScript or Flow, but they do not _force_ you to cover such cases.\\n\\n### ...with Great Inference\\n\\nIt's powerful type inference cleans up a lot of the verbosity associated with annotating functions and variables with types. The following function adds two integers. Not two floats or two strings, just two integers.\\n\\n```reason\\n  /* the type system knows that the arguments and the return value are ints here */\\n  let add = (a, b) => a + b;\\n```\\n\\nIf that example is too basic, then try this one. Note how I am not annotating the types in the function signatures:\\n\\n```reason\\n  type animal =\\n    | Dog\\n    | Cat\\n    | Octopus;\\n\\n  let animalToString = animal =>\\n    switch(animal) {\\n    | Dog => \\\"dog\\\"\\n    | Cat => \\\"cat\\\"\\n    | Octopus => \\\"octopus\\\"\\n    };\\n\\n  let getWelcomeMessage = (name, visits, animal) => {\\n    \\\"Hello \\\" ++\\n    name ++\\n    \\\", you've visited this website \\\" ++\\n    string_of_int(visits) ++\\n    \\\" times and your favorite animal is the \\\" ++\\n    animalToString(animal);\\n  };\\n```\\n\\nThe ReasonML/OCaml type system is capable of inferring based on our usage what the return types are, as well as each of the arguments. How neat is that?\\n\\n### Industry Proven\\n\\nOCaml is a proven language of academics and industries where safety and mission critical code is paramount. This was one of the reason's it was adopted as the base for ReasonML.\\n\\nAt Facebook, OCaml is used to build some of their important everyday tools, like [Flow](https://flow.org) and [Hack](https://hacklang.org). But they're also working on Reason, which in my opinion, is neat because Reason brings more joy than flow.\\n\\n## The Wit of JavaScript\\n\\nWith Reason comes a lighter, more JavaScript-like syntax. The first example I showed above would work just as well in regular JavaScript.\\n\\n### Syntax\\n\\nReason syntax is far easier to read and digest than that of OCaml, and most other functional languages for that matter.\\n\\n### Easy Build System\\n\\nIts massively more accessible to newcomers than OCaml in that you probably wont spend days trying to install your dependencies properly. When using BuckleScript its often just another npm install {package}.\\n\\n### JavaScript Interop\\n\\nIf you need training wheels when writing Reason, do not fear. You can use special directives to write JavaScript directly in your Reason code. Its not cheating, the language was designed this way to make migrating codebases easier.\\n\\n### NodeJS Too\\n\\nThe language that powers web applications can be used on the server with the help of NodeJS. The language being Reason of course. Since it transpiles to JavaScript, theres no reason you cannot simply write Reason which becomes server code.\\n\\nYou can write basically everything in your tech stack with JavaScript and in most cases it will be just fine. What motive would someone have to write Reason then, especially if they have built their likely profitable career on JavaScript?\\n\\n## The Courage of Reason\\n\\nOver the past few weeks, I've been exploring writing Native Reason code. I think some of the projects that are being developed show great courage in showing off the potential of ReasonML.\\n\\nWhile I certainly appreciate it's benefits on the frontend when transpiled to JavaScript, it would be super neat if I could write it on the server too.\\n\\nI want to communicate with databases, make blazing quick command line tools, and write super efficient servers, perhaps serving GraphQL.\\n\\nAnd I want to do it with the same language that I'm writing in for my web applications.\\n\\nCurrently, we can do this with JavaScript, but I think we can do better.\\n\\nBy further leveraging the OCaml ecosystem we can actually write incredibly robust servers and developer tools.\\n\\nThe [Esy](https://esy.sh) package manager allows us to install and build packages from npm or opam in a convenient package.json fashion without having to manually hack system dependencies.\\n\\nAs Esy further develops, Reason on the backend will become increasingly more accessible to developers looking to write stupidly fast native code.\\n\\nIf you're interested in what's already been made with Esy, check out the following projects:\\n\\n- [fnm](https://github.com/Schniz/fnm), an alternative to nvm for managing your NodeJS version. It's much faster than nvm.\\n- [fastpack](https://fastpack.sh/), a ridiculously fast JavaScript bundler\\n- [revery](https://www.outrunlabs.com/revery/), a desktop UI framework like electron, except without downloading a whole browser onto your users' computer.\\n\\nAnd there are more out there in the **Forests of Open Source**.\\n\\nThis certainly won't be my last post on this topic so stay tuned for more Reason evangelism on the horizon.\\n\";","export default \"---\\ntitle: How a Type System Improves your JavaScript Code\\ndate: 2019-02-24T21:25:04.540Z\\nslug: how-types-improve-javascript\\ndescription: Discover how a type system improves your developer workflow\\ntags: reason,react,javascript,typescript\\n---\\n\\nVanilla JavaScript is untyped by nature, some will call it “smart” because it is able to figure out what is a number or a string.\\n\\nThis makes it easier to run JavaScript code, it simply needs to be executed in a browser or Node.js runtime. However, its vulnerable to numerous runtime errors that can spoil your user experience.\\n\\nIf you’ve ever experienced the following, you would benefit from adopting a type system.\\n\\n- After fetching a list of data you may find that a certain field doesn’t exist on one of the records, causing the app to crash unless explicitly handled.\\n- An instance of a class you imported doesn’t have a method you’re trying to invoke.\\n- Your IDE doesn’t know what methods and properties are available, so it cannot easily assist you with autocomplete.\\n- Difficulty reasoning about code, type systems at a glance make it easier to refactor\\n\\n## Flow, TypeScript, or ReasonML\\n\\nLet's say you have an existing codebase that you wish to make bulletproof. With respect to type errors, you could try adopting Flow or TypeScript -- they have a fairly similar syntax.\\n\\nOn the other hand adopting one of these in a large, existing codebase is difficult. You would have a backlog crammed with tasks relating to creating types and interfaces with code that made not have been designed in a type friendly way.\\n\\nOn top of all of this, Flow and TypeScript do not offer 100% type safety in their code.\\n\\nReason accomplished perfect type safety through inference, and makes annotating variables and function signatures much more straightforward.\\n\\n## Simple and Clearly Contrived Examples\\n\\nConsider the following code:\\n\\n```reason\\nlet add = (a, b) => a + b;\\n```\\n\\nIn basic JavaScript these arguments can be numbers or strings. In TypeScript or Flow these arguments can be annotated like so\\n\\n```javascript\\nlet add = (a: number, b: number) => a + b;\\n```\\n\\nThe first code snippet knows that we are adding two int values. Not two floats nor two strings, there are different operators for those addition operations. JavaScript can hardly tell the difference between an int and a float.\\n\\nAllow me now to expose this gradual typing with a contrived example.\\n\\n```javascript\\nlet add = (a: string, b: number) => a + b;\\nadd('some string', 5); // outputs: \\\"some string5\\\"\\n```\\n\\nThat function works! This is absolutely preposterous! Now how does Reason handle this?\\n\\n```reason\\nlet add = (a, b) => a + b;\\nadd(\\\"some string\\\", 5);\\n/*\\nThis has type:\\n  string\\nbut somewhere wanted:\\n  int\\n*/\\n```\\n\\nThis function was flawed at the implementation level. Reason has different operators for int, float, and string addition.\\n\\nThe purpose of this contrived example was to show that it is still very possible to have odd type \\\"errors\\\" even though it wont _break_ the application.\\n\\nIn a pure Reason program, developers will not have to deal with productions bugs that have to do with types or null values.\\n\\n## Developer Experience\\n\\nOne of the neatest features of TypeScript is the enhancement you get in code editor suggestions & autocompletion.\\n\\nThis is one area where TypeScript has a leg up on Reason, because a TypeScript program doesn't need to compile perfectly in order to offer autocompletion. Reason makes you fix errors in syntax or types before it gives you helpful autosuggestion.\\n\\nThis is the case on VSCode, but I know many Reason developers use vim. I cannot answer for the level of support each editor has.\\n\\nEven though I am a big fan of ReasonML, I have built production applications with TypeScript or Flow and I enjoy them as well. The wave behind TypeScript makes it especially good to pick up these days, considering there is plenty of writing and community support behind it.\\n\\nReason on the other hand is harder to pick up because there is comparatively less writing and content behind it. Through blog posts like this, I am hoping to change that.\\n\\nIf you have some interest in checking out Reason, I'd start with the [docs here](https://reasonml.github.io). Also, be sure to follow people like [@jordwalke](https://twitter.com/@jordwalke), [@jaredforsyth](https://twitter.com/@jaredforsyth), and [@sgrove](https://twitter.com/@sgrove) on twitter. They are pretty knowledgable with respect to the ReasonML/OCaml ecosystem.\\n\\nIf you want to how ReasonML works seamlessly with GraphQL, check out this article I wrote on [ReasonML with GraphQL, the Future of Type-Safe Web Applications](https://medium.com/open-graphql/reasonml-with-graphql-the-future-of-type-safe-web-applications-65be2e8f34c8).\\n\";","export default \"---\\ntitle: Intro to ReasonML Variants\\ndate: 2019-03-02T21:25:04.540Z\\nslug: intro-to-reasonml-variants\\ndescription: Learn to wield ReasonML variants to create better, typesafe web applications\\ntags: reason,javascript,webdev,functional\\n---\\n\\nReasonML is a super fast, expressive, and functional programming language. Currently, it can be compiled to optimized JavaScript for the web, WebGL/OpenGL for graphics rendering, or even native bytecode.\\n\\nOne of my favorite features of Reason are variant data types. These types allow us to handle enums in a sane way, forcing us to handle all possibilities for a particular scenario. We can define a variant type like this:\\n\\n```reason\\ntype color =\\n  | Red\\n  | Blue\\n  | White\\n  | Black\\n  | Grey;\\n```\\n\\nWe see that the type `color` can be represented as this enumeration of different colors. Not too complicated, but not too enlightening either. In JavaScript, we could handle this with an object mapping:\\n\\n```javascript\\nconst COLORS = {\\n  RED: 'red',\\n  BLUE: 'blue',\\n  WHITE: 'white',\\n  BLACK: 'black',\\n  GREY: 'grey',\\n};\\n```\\n\\nI used maps like this all the time in my JavaScript projects, they help a ton when your goal is to keep constants defined in the same place. If you need to update, add, or remove a field, you only need to do so in one location.\\n\\nIf this were the whole story, I would probably decide that a compiled-to-js programming language like Reason is not worth the effort involved when I could just add TypeScript support. After all, so far it has only saved us a tiny amount of code.\\n\\nLet's take a look at an example to see how Reason would help us where ordinary JavaScript falls short.\\n\\n```javascript\\nfunction getMonthlyPriceForCarColor(color) {\\n  switch (color) {\\n    case COLORS.RED:\\n      return 28;\\n    case COLORS.BLUE:\\n      return 24;\\n    case COLORS.WHITE:\\n      return 20;\\n  }\\n}\\n```\\n\\nThis function takes a color (from our convenient colors lookup-map) and returns to us the additional monthly price of getting a Tesla Model S. In other words, getting a red Tesla costs more because it is the best color.\\n\\nOne other thing you might notice is that I did not provide a default case, and as an imperfect programmer, I neglected some of the other colors. JavaScript will not yell at me for this on its own, so I will probably have to find out the hard way that I forgot some of the other cases.\\n\\nHopefully QA will catch this bug before my code lands in production. But even if they're really thorough, I'd still have to make changes and push/review more code. Wouldn't it be nice if our typechecker could alert us on the fly?\\n\\nThe same function in Reason looks like this:\\n\\n```reason\\nlet getMonthlyPriceForCarColor = color =>\\n  switch(color) {\\n    | Red => 28\\n    | Blue => 24\\n    | White => 20\\n  };\\n```\\n\\nFirst of all there's less code, which is great, but beside the point. In practice, this function will actually have red squiggly underlines, alerting us that our switch is not exhaustive - it does not cover all of the possibilities or our `color` variant.\\n\\nThe error message is actually quite helpful when this happens.\\n\\n![Error: Non exhaustive switch statement](/images/non-exhaustive.png)\\n\\nFixing this issue simply requires that you cover the other possibilities.\\n\\n```reason\\nlet getMonthlyPriceForCarColor = color =>\\n  switch(color) {\\n    | Red => 28\\n    | Blue => 24\\n    | White => 20\\n    | Black => 0\\n    | Grey => 0\\n  };\\n```\\n\\nReason wont let us compile our code if we don't have a case for each possibility in this function. This is a sampling of the incredibly powerful typesystem we have with Reason.\\n\\n## Variants as Constructors\\n\\nAs I've demonstrated so far, variants can be used as enumerations, but they exhibit a power that takes enumeration to a whole new level. Variants can be used as generic constructors that take arguments, allowing developers to further customize applications for their use case.\\n\\nFor example, we can adjust our price (arbitraily) based on the shade of grey or even go as far as to specify a totally arbitrary color somewhere in the RGB scale.\\n\\nUpdating our color type to the following:\\n\\n```reason\\ntype color =\\n  | Red\\n  | Blue\\n  | White\\n  | Black\\n  | Grey(float)\\n  | Rgb(int, int, int);\\n```\\n\\nNow when we run our function, we can let the customer to pick whatever color they want. To keep make the pricing more reasonable with our already hardcoded values, we'll allow grey to range from $0 to $20. depending on whatever number given between 0.0 and 1.0.\\n\\nThe `Rgb` constructor will be the most expensive since we have to create new paint in order to satisfy that requirement. The higher the values of red, blue, and green color, the closer to \\\\$36 it will be.\\n\\n```reason\\nlet getMonthlyPriceForCarColor = color =>\\n  switch(color) {\\n    | Red => 28\\n    | Blue => 24\\n    | White => 20\\n    | Black => 0\\n    | Grey(pct) => int_of_float(pct *. 20.0)\\n    | Rgb(red, green, blue) => {\\n      /* completely random calculation. Tesla probably does not do this */\\n      let sum = red + green + blue;\\n      if (sum > 500) {\\n        36\\n      } else {\\n        32\\n      }\\n    }\\n  };\\n\\nJs.log(getMonthlyPriceForCarColor(Red));                /* 28 */\\nJs.log(getMonthlyPriceForCarColor(Grey(0.64)));         /* 12 */\\nJs.log(getMonthlyPriceForCarColor(Rgb(150, 210, 67)));  /* 32 */\\nJs.log(getMonthlyPriceForCarColor(Rgb(150, 210, 167))); /* 36 */\\n```\\n\\nThis is pretty neat huh? This example displays the expressive power of a robust type-safe language like Reason.\\n\\nWhen we introduce constructor arguments like this, we no longer have an ordinary switch statement that you can find in most programming languages. We call this _pattern matching_ in Reason.\\n\\nIn conjuction with data structures like variants, tuples, and lists, pattern matching creates a readable and concise flow of logic.\\n\\n## Refactor with confidence\\n\\nThe only thing I have yet to do to make this example stronger, is validate the constructor inputs. So to send off this post with a bang, I am going to make some helper functions.\\n\\n```reason\\nlet validatePercentage = pct =>\\n  restrictRangef(pct, 0.0, 1.0);\\n\\nlet validateRgb = (red, blue, green) => {\\n  let red = restrictRange(red, 0, 255);\\n  let green = restrictRange(green, 0, 255);\\n  let blue = restrictRange(blue, 0, 255);\\n  (red, blue, green);\\n};\\n```\\n\\nThese functions validate the required input to the extend that they cut off the values if they are too low or too high. Here are their corresponding `restrictRange` functions.\\n\\n```reason\\nlet restrictRange = (number, min, max) =>\\n  if (number > max) {\\n    max;\\n  } else if (number < min) {\\n    min;\\n  } else {\\n    number;\\n  };\\n\\nlet restrictRangef = (number, min, max) =>\\n  if (number > max) {\\n    max;\\n  } else if (number < min) {\\n    min;\\n  } else {\\n    number;\\n  };\\n```\\n\\nOne last thing to note is that we must have separate `restrictRange` functions for `int` and `float` types. By convention, when we have functions that take ints, their float variation will have the same name but with an \\\"f\\\" at the end.\\n\\nA little extra code here is a small price to pay here when we have superior type coverage.\\n\\nFinally I can update our `getMonthlyPriceForCarColor` function with our new helpers:\\n\\n```reason\\nlet getMonthlyPriceForCarColor = color =>\\n  switch (color) {\\n  | Red => 28\\n  | Blue => 24\\n  | White => 20\\n  | Black => 0\\n  | Grey(pct) => int_of_float(validatePercentage(pct) *. 20.0)\\n  | Rgb(red, green, blue) => {\\n      let (r, g, b) = validateRgb(red, green, blue);\\n      let sum = r + g + b;\\n      if (sum > 500) {\\n        36\\n      } else {\\n        32\\n      };\\n    }\\n  };\\n```\\n\\n# And thats a wrap\\n\\nWe've taken a look at variants and how we can use them with constructor arguments through pattern matching. This is a super powerful feature that you won't find in just any modern programming language.\\n\\nWhen you build an application with complete type safety, you begin to reap the advantages as the size of your project grows and you begin to make refactors. Knowing that your code compiles increases your confidence that you wont break critical or even basic features in production.\\n\";","export default \"---\\ntitle: ReasonML with React Hooks Tutorial — Building a Pomodoro Timer\\ndate: 2019-04-15T21:25:04.540Z\\nslug: reason-react-hooks-tutorial\\ndescription: Learn Reason React by building a Pomodoro Timer with React hooks\\ntags: reason,javascript,react,tutorial\\nhero_image: timer.png\\n---\\n\\n![](/timer.png)\\n\\nReasonML is a programming language that combines the simplicity of JavaScript with the performance of OCaml. JavaScript programmers should give ReasonML a try. Reason's inherits OCaml's typesystem as well as the approachability of JavaScript.\\n\\nWith [ReasonReact](https://reasonml.github.io/reason-react/) and [BuckleScript](https://bucklescript.github.io/), we can compile Reason code to JavaScript that works like good old React.\\n\\nBut that's not all, things are getting even better for the Reason ecosystem. Earlier last week, ReasonReact [version 0.7.0 dropped](https://reasonml.github.io/reason-react/blog/2019/04/10/react-hooks), with support for React hooks. We can now build robust components with React hooks that:\\n\\n- eliminate duplicated lifecycle logic (like in componentDidMount, componentDidUpdate, and componentWillUnmount)\\n- eliminate the need for complicated patterns like higher-order components or render props\\n- allow _easier refactoring_ of stateful components\\n\\nThink for a moment about that last point, what else give us easier refactorability?\\n\\nA rock solid typesystem and a helpful compiler!\\n\\nToday, we're going to build a Pomodoro Timer [like this](https://tomato-timer.com/) using Reason and React.\\n\\nA pomodoro timer allows you to set a timer for say 25 or 30 minutes that lets you know when to stop working. Because sometimes taking a break is good, and you better believe I'm using one while writing this.\\n\\n## Initializing a Project\\n\\nThe first step is to install BuckleScript, a tool that will compile our Reason code to JavaScript.\\n\\n```sh\\nnpm install -g bs-platform\\n```\\n\\nAfter that, we can scaffold our project with the `init` command, and setting the `theme` to react-hooks.\\n\\n```sh\\nbsb -init pomodoro-timer -theme react-hooks\\ncd pomodoro-timer && npm install\\n```\\n\\nNow that our project set up, we can mention our folder layout. Our Reason code belongs in the src directory. Where we usually have an index.js file in a JavaScript React project, we have an Index.re file. These files serve the same purpose: render the app root.\\n\\nSince our code will compile to JavaScript, I still like to have a bundler like Webpack to bundle those files.\\n\\n> Tip: It is generally considered a best practice to keep your folder structure as flat as possible with ReasonML, using captialized file names (like Timer.re). See the [ReasonML docs](https://reasonml.github.io/docs/en/project-structure#folders) for a discussion on project structure.\\n\\n### Running the code\\n\\nBefore I clean up the environment, let us try running the code. This will need two or three separate terminal tabs:\\n\\n```sh\\n# in one tab\\nnpm start\\n```\\n\\nThis runs `bsb -make-world -w` which compiles your Reason files on every change. It does this quickly, mind you.\\n\\n```sh\\n# in another tab\\nnpm run webpack\\n```\\n\\nThis command takes our compiled JavaScript and spits out a bundle that we can then open in a browser using:\\n\\n```sh\\nopen build/index.html\\n```\\n\\nI prefer use a static file server like [zeit/serve](https://github.com/zeit/serve).\\n\\n```sh\\n# install `serve` globally\\nnpm i -g serve\\n\\n# serve it!\\nserve build/\\n```\\n\\n![initial project](./initial_project.png)\\n\\n### Cleaning up the Environment\\n\\nI want to clean up the default project structure before writing an implementation.\\n\\n1. Remove the Component1.re and Component2.re files, we will not be using these. You can still read them and try to making sense of how hooks are working in our new environment.\\n2. Replace index.html with the following:\\n\\n```html\\n<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <title>Pomodoro Timer</title>\\n  </head>\\n  <body>\\n    <div id=\\\"root\\\"></div>\\n    <script src=\\\"Index.js\\\"></script>\\n  </body>\\n</html>\\n```\\n\\n3. Replace Index.re with the following:\\n\\n```reason\\nReactDOMRe.renderToElementWithId(<Timer />, \\\"root\\\");\\n```\\n\\n4. Open up bsconfig.json and change the field \\\"in-source\\\" from true to false. This will output our compiled JavaScript into the lib/js directory. I prefer this over leaving them inside of our root src directory.\\n\\n5. Tell webpack to build from the new location by changing webpack.config.js to the following:\\n\\n```js\\nmodule.exports = {\\n  entry: './lib/js/src/Index.bs.js',\\n  // rest of webpack config\\n};\\n```\\n\\nAnd now with all out that taken care of, we can begin the fun part, the implementation.\\n\\n## Building a Stateless Component\\n\\nAfter cleaning up, notice that we are trying to render a `Timer` component but we have not even defined one. Let us write a stateless component to render to the page.\\n\\n```reason\\n[@react.component]\\nlet make = () => {\\n  <div> {ReasonReact.string(\\\"One day this will be a timer\\\")} </div>;\\n};\\n```\\n\\nI want to highlight how simple this code is. Writing a stateless React component in the previous version was more verbose:\\n\\n```reason\\n/* DO NOT WRITE THIS */\\nlet component = ReasonReact.statelessComponent(\\\"Timer\\\");\\nlet make = () => {\\n  ...component,\\n  render: _children =>  <div> {ReasonReact.string(\\\"One day this will be a timer\\\")} </div>;\\n};\\n```\\n\\nEven compared to regular JavaScript with React, this new syntax is incredibly slick. With Reason projects, we do not need to layer imports on top of the file every time we make a new file.\\n\\n## The useReducer Hook\\n\\nNow we are going to introduce some state into this equation. We do not have any \\\"class\\\" components, we are still using functional components. But now we are going to use React hooks to compose a solution.\\n\\nFor our timer, we need to keep track of at least two things:\\n\\n1. The seconds on the clock\\n2. Whether it is ticking or not\\n\\nWhen we consider any timer, we usually have three buttons: `Start`, `Stop`, and `Reset`. These map to directly to user interactions, but there is one more: the `Tick` itself. Even though the tick is not controlled by the user, it is still an action that should return a new state for our reducer.\\n\\nAt the top of Timer.re, where we will build this whole app, add the following:\\n\\n```reason\\ntype state = {\\n  seconds: int,\\n  isTicking: bool\\n};\\n\\ntype action =\\n  | Start\\n  | Stop\\n  | Reset\\n  | Tick;\\n```\\n\\nHow easy it is, to implement an application after you have described your states needs and actions!\\n\\nNext we'll update our make function to use a reducer:\\n\\n```reason\\n[@react.component]\\nlet make = () => {\\n  let (state, dispatch) =\\n    React.useReducer(\\n      (state, action) =>\\n        switch (action) {\\n        | Start => {...state, isTicking: true}\\n        | Stop => {...state, isTicking: false}\\n        | Reset => {...state, seconds: 30}\\n        | Tick => {...state, seconds: state.seconds - 1}\\n        },\\n      {isTicking: false, seconds: 30},\\n    );\\n\\n  <div>\\n    {ReasonReact.string(\\n       \\\"There are \\\" ++ string_of_int(state.seconds) ++ \\\" on the clock\\\",\\n     )}\\n  </div>;\\n};\\n```\\n\\nThe syntax is like that of ReactJS. The `useReducer` function returns a tuple as opposed an array. This is because JavaScript does not know what the heck a tuple is. We make sure to handle each of our action types inside this reducer, returning a whole copy of the state.\\n\\nThe second argument to `useReducer` is the initial state of the reducer. It would make sense for the time to receive the initial time as a prop but I'll leave it this way for now.\\n\\nNow we need a way to invoke these actions. Let us start with the `Tick` because it is the most complicated bit.\\n\\n## The useEffect hook\\n\\nTo update the timer every second, we need to create an effect. In the JavaScript world, this means putting a callback function within `setInterval`.\\n\\nLet us add this hook between the `useReducer` function and the returned JSX.\\n\\n```reason\\nReact.useEffect0(() => {\\n  let timerId = Js.Global.setInterval(() => dispatch(Tick), 1000);\\n  Some(() => Js.Global.clearInterval(timerId));\\n});\\n```\\n\\nIf you recall the way `useEffect` works:\\n\\n- The first argument is a callback function that runs when the component mounts, updates, or unmounts.\\n- Optionally, the callback function can return another function that performs cleanup. This includes unsubscribing from sockets or clearing a setInterval so it does not persist forever.\\n\\nIf you run the code and refresh your browser, you'll see that our timer is going to run indefinitely.\\n\\nIt should not do this, so lets update our reducer again to account for whether the `isTicking` flag is true or false. We will also make sure that `seconds` are greater than zero so we do not go negative.\\n\\n```reason\\nlet (state, dispatch) =\\n    React.useReducer(\\n      (state, action) =>\\n        switch (action) {\\n        | Start => {...state, isTicking: true}\\n        | Stop => {...state, isTicking: false}\\n        | Reset => {...state, seconds: 30}\\n        | Tick => state.isTicking && state.seconds > 0\\n            ? {...state, seconds: state.seconds - 1} : state\\n        },\\n      {isTicking: false, seconds: 30},\\n    );\\n```\\n\\nNow you can verify this by setting `isTicking` to true and `seconds` to 3. Lovely, this app is functional now. If you wanted to actually use it, refresh your browser and watch it count down.\\n\\n## Interactivity with Buttons\\n\\nTo make this Timer even better, I am going to add buttons.\\n\\nLet us define a Button module in the same file as our Timer, right above the make function.\\n\\n```reason\\nmodule Button = {\\n  [@react.component]\\n  let make = (~label, ~onClick) => {\\n    <button onClick> {label |> ReasonReact.string} </button>;\\n  };\\n};\\n```\\n\\nThis button takes a label and an onClick prop. We can add them to our Timer, at the bottom of the make function like so:\\n\\n```reason\\n\\n[@react.component]\\nlet make = () => {\\n  /* useReducer */\\n\\n  /* useEffect0 */\\n\\n  <div>\\n      {ReasonReact.string(\\n        \\\"There are \\\" ++ string_of_int(state.seconds) ++ \\\" seconds on the clock\\\",\\n      )}\\n      {state.isTicking\\n        ? <Button label=\\\"STOP\\\" onClick={_event => dispatch(Stop)} />\\n        : <>\\n            <Button label=\\\"START\\\" onClick={_event => dispatch(Start)} />\\n            <Button label=\\\"RESET\\\" onClick={_event => dispatch(Reset)} />\\n          </>}\\n    </div>;\\n};\\n```\\n\\nTry running this in your browser, you should see:\\n\\n![start and stop buttons](./start_stop.png)\\n\\nIf you click START, it will start. If you click STOP it will stop. RESET will bring the timer back up to the initial time. Pretty straightforward how it just works!\\n\\nAt this point, our app is **feature-complete**. Read on to make it even cooler, with style and other aesthetic details.\\n\\n## Aesthetic Concerns\\n\\nLet us add some styles and make this timer look pretty. Or at least better.\\n\\nUpdate the JSX in Timer to the following:\\n\\n```reason\\n[@react.component]\\nlet make = () => {\\n  /* useReducer */\\n\\n  /* useEffect0 */\\n<div\\n    style={ReactDOMRe.Style.make(\\n      ~border=\\\"1px solid black\\\",\\n      ~borderRadius=\\\"8px\\\",\\n      ~maxWidth=\\\"180px\\\",\\n      ~textAlign=\\\"center\\\",\\n      (),\\n    )}>\\n    <p\\n      style={ReactDOMRe.Style.make(\\n        ~color=\\\"#444444\\\",\\n        ~fontSize=\\\"42px\\\",\\n        ~margin=\\\"16px 0\\\",\\n        (),\\n      )}>\\n      {state.seconds |> formatTime |> str}\\n    </p>\\n    {state.isTicking\\n       ? <Button label=\\\"STOP\\\" onClick={_event => dispatch(Stop)} />\\n       : <>\\n           <Button label=\\\"START\\\" onClick={_event => dispatch(Start)} />\\n           <Button label=\\\"RESET\\\" onClick={_event => dispatch(Reset)} />\\n         </>}\\n  </div>;\\n};\\n```\\n\\nI have introduced the default styles that come with ReasonReact. They are not my preferred style solution as I like [bs-css](https://github.com/SentiaAnalytics/bs-css) better, but for this small project, they will do fine.\\n\\nI also introduce a `formatTime` function. Let us implement that function so our project compiles:\\n\\n```reason\\nlet padNumber = numString =>\\n  if (numString |> int_of_string < 10) {\\n    \\\"0\\\" ++ numString;\\n  } else {\\n    numString;\\n  };\\n\\nlet formatTime = seconds => {\\n  let mins = seconds / 60;\\n  let minsString = mins |> string_of_int |> padNumber;\\n  let seconds = seconds mod 60;\\n  let secondsString = seconds |> string_of_int |> padNumber;\\n  minsString ++ \\\":\\\" ++ secondsString;\\n};\\n```\\n\\nI included `padNumber` as well, a useful utility that pads minutes and seconds which are less than 10. This makes the timer more reader friendly.\\n\\nI will be honest, this timer looks pretty good right now and I have not even styled the buttons. I will leave that as a task for the reader if they are so inclined.\\n\\n![finished timer](./finished_timer.png)\\n\\n## Update the Document Title\\n\\nThe concept of a timer in the browser can be further improved. If we have the time remaining persist in the browser tab itself, it would be visible if the user is in another tab.\\n\\nAll we have to do to get that going is update our `Tick` action in the reducer. I'll even show off ReasonML's interop with JavaScript by updating the document title. Note the `%bs.raw` directive, this allows us to put on the JavaScript training wheels and use it directly.\\n\\n```reason\\nlet updateTitle: string => unit = [%bs.raw\\n  {|\\n  function updateTitle(remaining) {\\n    document.title = \\\"⏰ \\\" + remaining + \\\" ⏰\\\";\\n  }|}\\n];\\n\\n[@react.component]\\nlet make = () => {\\nlet (state, dispatch) =\\n    React.useReducer(\\n      (state, action) =>\\n        switch (action) {\\n        | Start => {...state, isTicking: true}\\n        | Stop => {...state, isTicking: false}\\n        | Reset => {...state, seconds: 30}\\n        | Tick =>\\n          state.isTicking && state.seconds > 0\\n            ? {\\n              updateTitle(formatTime(state.seconds - 1));\\n              {...state, seconds: state.seconds - 1};\\n            }\\n            : state\\n        },\\n      {isTicking: false, seconds: 30},\\n    );\\n\\n/* useEffect0 */\\n\\n\\n/* JSX return */\\n};\\n```\\n\\nAnd with that, I am finished with the implementation of the timer:\\n\\n![finished timer with title update](./finished_timer_title.png)\\n\\n## Summary\\n\\nWith this tutorial we tackled the updated ReasonReact syntax with React hooks. when React hooks dropped late last year I could not wait to be able to use them in Reason projects. Now that they are here, we can take advantage of strong typed, composable, functional code.\\n\\nWe learned:\\n\\n- how to make a basic stateless component\\n- how to use the `useReducer` hook\\n- how to use the `useEffect` hook\\n- how to define other React components in the same file/module.\\n- how to use basic styles in ReasonReact\\n- how to do interon with `%bs.raw`\\n\\nI hope this has been a fun or useful experience, be sure to follow me @iwilsonq on [dev.to](https://dev.to/iwilsonq), [Twitter](https://twitter.com/iwilsonq), [Medium](https://medium.com/@iwilsonq) or anywhere else I roam.\\n\\nIf you want to how ReasonML works seamlessly with GraphQL, check out this article I wrote on [ReasonML with GraphQL, the Future of Type-Safe Web Applications](https://medium.com/open-graphql/reasonml-with-graphql-the-future-of-type-safe-web-applications-65be2e8f34c8).\\n\\nIf you'd like to keep up with future posts, [sign up for my newsletter here](https://buttondown.email/iwilsonq)!\\n\";","export default \"---\\ntitle: ReasonML with GraphQL, the Future of Type-Safe Web Applications\\ndescription: Build a small ReasonReact web application that consumes a GraphQL endpoint using reason-apollo\\ntags: reason,graphql,javascript,fp\\ndate: 2019-03-13T07:00:00.000Z\\nslug: building-powerful-graphql-servers-with-rust\\nhero_image: https://thepracticaldev.s3.amazonaws.com/i/aejew3ps1khqnw7gy0yk.png\\n---\\n\\n![](https://thepracticaldev.s3.amazonaws.com/i/aejew3ps1khqnw7gy0yk.png)\\n\\n_I made this graphic myself_\\n\\nReasonML, also known as JavaScript-flavored OCaml, offers nearly impenetrable type safety for developing user interfaces. By adopting a static type system, you can eliminate an entire class of errors before your app is served.\\n\\nWe’re going to look into building a small web application that uses consumes a GraphQL endpoint using ReasonML. We’ll cover:\\n\\n- getting started with a ReasonReact project\\n- setting up a client with reason-apollo\\n- sending queries\\n- mutating data\\n\\nIf you’re new to both GraphQL and ReasonML, I’d suggest learning one at a time. Learning more than one big thing at once is often difficult for me. If you’re experienced with JavaScript and GraphQL, but want to learn ReasonML, read on, but keep the [docs](https://reasonml.github.io) handy.\\n\\n## Getting Started - Establishing a ReasonReact Project\\n\\nIn order to get going with ReasonML, we must first install the cli, `bsb-platform` that handles bootstrapping the project. You should also get an editor plugin that helps with developing ReasonML apps. If you’re using VSCode, reason-vscode by Jared Forsyth is my preferred plugin.\\n\\n```bash\\nnpm install -g bsb-platform\\n```\\n\\nThis installs the BuckleScript compiler that turns our ReasonML into wonderful JavaScript which has already been type-checked and can be run in the browser.\\n\\nNow we can initialize our project and hop right in.\\n\\n```bash\\nbsb -init reason-graphql-example -theme react\\ncd reason-graphql-example\\nnpm install\\n```\\n\\n- The `init` argument specifies the name of the project we’re initializing.\\n- The `theme` argument specifies the template we wish to use. I usually just choose the react theme.\\n- We run `npm install` to install dependences just like in any other JavaScript project.\\n\\nWith the project scaffolded, we can try to build it. In two separate terminal panes, run:\\n\\n```bash\\nnpm start\\n# and\\nnpm run webpack\\n```\\n\\n- `npm start` tells BuckleScript (bsb) to build the project watch for changes to your .re files.\\n- `npm run webpack` fires up webpack to build your main JavaScript bundle\\n\\n_Quick tip: you’ll notice that the webpack output is in the **build** folder but the index.html file is in the **src** folder. We can make serving the project a little bit easier by moving the index.html file to the build folder and rewriting the script tag to point at the adjacent Index.js file. _\\n\\nWith all that taken care of, you can serve your build folder using `http-server build` or `serve build` and check out the project.\\n\\n![initial screen](https://thepracticaldev.s3.amazonaws.com/i/sfcjd5lxm76wsycbrcny.png)\\n\\nWhen I’m developing a ReasonML project, I’m running 3 terminal tabs:\\n\\n1. `npm start` to transpile ReasonML to JavaScript\\n2. `npm run webpack` to bundle JavaScript\\n3. `serve build` to actually serve the build on a port\\n\\nBefore we can get to the fun stuff, we still must clear out the boilerplate and set up react-apollo.\\n\\nGo ahead and remove the Component1 and Component2 files, and then update Index.re to the following:\\n\\n```ocaml\\nReactDOMRe.renderToElementWithId(<App />, \\\"root\\\");\\n```\\n\\nUpdate index.html to:\\n\\n```html\\n<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <title>ReasonML GraphQL Example</title>\\n  </head>\\n  <body>\\n    <div id=\\\"root\\\"></div>\\n\\n    <script src=\\\"./Index.js\\\"></script>\\n  </body>\\n</html>\\n```\\n\\nFinally, create an App.re file and add the following:\\n\\n```ocaml\\n/* App.re */\\nlet str = ReasonReact.string;\\nlet component = ReasonReact.statelessComponent(\\\"App\\\");\\n\\nlet make = _children => {\\n  ...component,\\n  render: _self =>\\n\\t<div>\\n\\t  <h1> {\\\"Hello ReasonReact\\\" |> str} </h1>\\n\\t</div>\\n};\\n```\\n\\nYou might have to re-run your terminal commands, but with all that said and done, you should have something like this appear on your screen:\\n\\n![hello reason react](https://thepracticaldev.s3.amazonaws.com/i/7732nf5s6g7o93r406rp.png)\\n\\nIt feels like a lot of effort to get started, but accepting early friction for a smoother experience later on is the tradeoff here.\\n\\n## Initializing Reason Apollo\\n\\nIn order to get set up with Apollo we’re going to run:\\n\\n```bash\\nnpm install -S reason-apollo react-apollo apollo-client apollo-cache-inmemory apollo-link apollo-link-context apollo-link-error apollo-link-http graphql graphql-tag apollo-link-ws apollo-upload-client subscriptions-transport-ws\\n```\\n\\nThat looks like a big install command. It is, but only the first package, reason-apollo, is consumed in our ReasonML code. However, reason-apollo is a library of binding labels depends on these other JavaScript packages.\\n\\nIn order to make writing GraphQL queries more friendly we’ll need one more dev dependency.\\n\\n```bash\\nnpm install -D graphql_ppx\\n```\\n\\nAs that installs we can open up our bsconfig.json file and update the “bs-dependencies” and “ppx-flags” keys like so:\\n\\n```json\\n// bsconfig.json\\n{\\n  \\\"bs-dependencies\\\": [\\\"reason-react\\\", \\\"reason-apollo\\\"],\\n  \\\"ppx-flags\\\": [\\\"graphql_ppx/ppx\\\"]\\n\\n  // other fields...\\n}\\n```\\n\\nThe “bs-dependencies” array tells BuckleScript to include those npm modules in the build process. The ppx flags array lets our IDE know how to handle preprocess certain directives, GraphQL in our case.\\n\\nCreate a file inside the src folder called Client.re. This is where we will declare our instance of the Apollo Client.\\n\\n```ocaml\\n/* Client.re */\\nlet inMemoryCache = ApolloInMemoryCache.createInMemoryCache();\\n\\nlet httpLink =\\n  ApolloLinks.createHttpLink(~uri=\\\"https://video-game-api-pvibqsoxza.now.sh/graphql\\\", ());\\n\\nlet instance =\\n  ReasonApollo.createApolloClient(~link=httpLink, ~cache=inMemoryCache, ());\\n```\\n\\n> Note: If this uri, https://video-game-api-pvibqsoxza.now.sh/graphql does not work, please send me a message on twitter or here in the comments and I’ll update that as quickly as possible\\n\\nWhen we work with ReasonML, any variable that we create with a `let` binding is automatically exported from the module for us.\\n\\nWith the instance created, we can reference it in any of our other .re files. Update Index.re to the following:\\n\\n```ocaml\\n/* Index.re */\\nReactDOMRe.renderToElementWithId(\\n  <ReasonApollo.Provider client=Client.instance>\\n    <App />\\n  </ReasonApollo.Provider>,\\n  \\\"root\\\",\\n);\\n```\\n\\nIt looks a little like a standard React JS application, with a couple caveats. Notice that there are no import statements. In ReasonML, we have access to all of the namespaces built in our application. From the perspective of Index.re, We can see the `Client` and the `App` modules.\\n\\nWhen we create a .re file in our src folder, it becomes a module. We could also declare our modules explicitly within our files.\\n\\nIt is now time to consume our API.\\n\\n## Sending Queries and Rendering a List\\n\\nWhile writing this article I created a small Node GraphQL server, the code of which is available at [this repo](https://github.com/iwilsonq/video-game-api). To keep costs low, I declared an array of mock data to return on each GraphQL request rather than host a database.\\n\\nRather than create a todo app, I decided to create a list of video games that I played at some point long ago. Then, I could check if I finished it or not, thus remembering the games that I still haven’t beat.\\n\\nAs we are working with a GraphQL server, we should be able to figure out exactly how to call it by observing the schema.\\n\\n```Graphql\\n  type VideoGame {\\n    id: ID!\\n    title: String!\\n    developer: String!\\n    completed: Boolean!\\n  }\\n\\n  type Query {\\n    videoGames: [VideoGame!]!\\n  }\\n\\n  type Mutation {\\n    completeGame(id: ID!): VideoGame!\\n  }\\n```\\n\\nCurrently, we have one query and one mutation, both of which operate around this `VideoGame` type. A GraphQL adept will notice that every return value is non-nullable, that is, these responses cannot return unset fields or null objects.\\n\\nSoon we’ll see why all of the !’s are particularly important for our ReasonML code.\\n\\nLet’s begin by defining the query in on top of App.re, just below the `component` declaration.\\n\\n```ocaml\\n/* App.re */\\n\\nmodule VideoGames = [%graphql\\n  {|\\n  query VideoGames {\\n    videoGames {\\n      id\\n      title\\n      developer\\n      completed\\n    }\\n  }\\n|}\\n];\\n\\nmodule VideoGamesQuery = ReasonApollo.CreateQuery(VideoGames);\\n\\n/* let make = ... */\\n```\\n\\nComparing with the JavaScript in react-apollo, this code would be most analogous to:\\n\\n```js\\nconst VideoGames = gql`\\n  query VideoGames {\\n    videoGames {\\n      id\\n      title\\n      developer\\n      completed\\n    }\\n  }\\n`\\n\\n// later in render\\nrender() {\\n  return (\\n    <Query query={VideoGames}> {/* ... */} </Query>\\n  )\\n}\\n\\n```\\n\\nNow let’s update the render function:\\n\\n```ocaml\\n/* App.re */\\nlet make = _children => {\\n  ...component,\\n  render: _self => {\\n\\tlet videoGamesQuery = VideoGames.make();\\n\\t<div>\\n\\t\\t<h1> {\\\"ReasonML + ReasonReact + GraphQL\\\" |> str} </h1>\\n\\t\\t<VideoGamesQuery variables=videoGamesQuery##variables>\\n        ...{\\n             ({result}) =>\\n               switch (result) {\\n               | Loading => <div> {\\\"Loading video games!\\\" |> str} </div>\\n               | Error(error) => <div> {error##message |> str} </div>\\n               | Data(data) => <VideoGameList items=data##videoGames />\\n               }\\n           }\\n      </VideoGamesQuery>\\n\\t</div>;\\n  }\\n};\\n```\\n\\nHere, we’re taking advantage of ReasonML’s coolest feature - [pattern matching](https://reasonml.github.io/docs/en/pattern-matching). Pattern matching combined with [variants](https://reasonml.github.io/docs/en/variant) makes the logic that you would otherwise put in branches of if-else statements more linear and easier to follow. It is also reduces branch checking to [constant rather than linear time](https://reasonml.github.io/docs/en/variant), making it more efficient.\\n\\nIf the ReasonML code ever seems more verbose, just remember we’re still getting perfect type safety when it compiles. We still need to build the `VideoGamesList` component as well as define the `videoGame` record type.\\n\\nStarting with the record type, create a new file called VideoGame.re and add the following:\\n\\n```ocaml\\n/* VideoGame.re */\\n\\n[@bs.deriving jsConverter]\\ntype videoGame = {\\n  id: string,\\n  title: string,\\n  developer: string,\\n  completed: bool,\\n};\\n```\\n\\nThe `videoGame` type as we have it here, has 4 fields, none of which are optional. The BuckleScript directive above it adds a pair of exported utility methods that allow us to [convert between ReasonML records and JavaScript objects](https://bucklescript.github.io/docs/en/generate-converters-accessors).\\n\\n> Tip: when Apollo returns a response, it returns untyped JavaScript objects. The `jsConverter` directive gives us an exported method called `videoGameFromJs` that we can use to map the Apollo query data to fully typed ReasonML.\\n\\nTo see this mechanic in action, create a new file called VideoGameList.re and add:\\n\\n```ocaml\\n/* VideoGameList.re */\\nopen VideoGame;\\n\\nlet str = ReasonReact.string;\\nlet component = ReasonReact.statelessComponent(\\\"VideoGameList\\\");\\n\\nlet make = (~items, _children) => {\\n  ...component,\\n  render: _self =>\\n    <ul style={ReactDOMRe.Style.make(~listStyleType=\\\"none\\\", ())}>\\n      {\\n        items\\n        |> Array.map(videoGameFromJs)\\n        |> Array.map(item =>\\n             <li key={item.id}>\\n             \\t<input\\n                  id={item.id}\\n                  type_=\\\"checkbox\\\"\\n                  checked={item.completed}\\n                />\\n                <label htmlFor={item.id}>\\n                  {item.title ++ \\\" | \\\" ++ item.developer |> str}\\n                </label>\\n             </li>\\n           )\\n        |> ReasonReact.array\\n      }\\n    </ul>,\\n};\\n```\\n\\n1. Open the `VideoGame` module (VideoGame.re) at the top so we can use all of it’s exports in the `VideoGameList` module.\\n2. Declare the component type and string rendering shorthand.\\n3. Define a make function that expects one prop, `items`.\\n4. Inside the render function, pipe the items to convert JS objects to ReasonML records, map records to JSX, and finally output them as an array.\\n\\n> Note: Piping basically reverses the order of function calls to potentially improve readability. With the `|>` operator, the `items` object is applied to each function as the _last_ argument.\\n\\nThough I like prefer the piping style, the following are equivalent.\\n\\n```ocaml\\nitems\\n\\t|> Array.map(videoGameFromJs)\\n\\t|> Array.map(renderItem)\\n\\t|> ReasonReact.array;\\n\\nReasonReact.array(\\n\\tArray.map(\\n\\t\\trenderItem,\\n\\t\\tArray.map(\\n\\t\\t\\tvideoGameFromJs,\\n\\t\\t\\titems\\n\\t\\t)\\n\\t)\\n);\\n```\\n\\nI think we are ready to once again compile and serve our project. If you haven’t already, run this command in your project root:\\n\\n```bash\\nyarn send-introspection-query https://video-game-api-pvibqsoxza.now.sh/graphql\\n```\\n\\nThis generates a `graphql_schema.json` file that Reason Apollo uses to type check your queries. If your ReasonML app asks for a field that isn’t on the schema, or if it doesn’t properly handle optional data types, it will not compile.\\n\\nThe strict typing serves as a wonderful sanity check for writing queries and mutations.\\n\\nWhen all is said and done, you should see the following.\\n\\n![finished screen](https://thepracticaldev.s3.amazonaws.com/i/96prj40pfw9frc23j68r.png)\\n\\nDon’t yell at me for not finishing the main story in Skyrim.\\n\\n## Mutating Data\\n\\nOne thing you may notice thus far is that clicking the checkboxes doesn’t do anything. This is expected, since we have not yet wired up a mutation.\\n\\nLet us begin by recalling our schema above, and creating a module for the mutation to mark a game completed.\\n\\nInside VideoGameList.re, add these modules to the top of the file just beneath the call to create a component.\\n\\n```ocaml\\n/* VideoGameList.re */\\nmodule CompleteGame = [%graphql\\n  {|\\n  mutation CompleteGame($id: ID!) {\\n    completeGame(id: $id) {\\n      id\\n      completed\\n    }\\n  }\\n|}\\n];\\n\\nmodule CompleteGameMutation = ReasonApollo.CreateMutation(CompleteGame);\\n```\\n\\nFor the render prop of the mutation, it’ll look pretty similar to the JavaScript version. I’ll put this code here and then walk through it, starting from inside the `<li>` tag.\\n\\n```ocaml\\n/* VideoGameList.re */\\n\\n<li key={item.id}>\\n  <CompleteGameMutation>\\n    ...{\\n        (mutate, {result}) => {\\n          let loading = result == Loading;\\n          <div>\\n            <input\\n              id={item.id}\\n              type_=\\\"checkbox\\\"\\n              checked={item.completed}\\n              onChange={\\n                _event => {\\n                  let completeGame =\\n                    CompleteGame.make(~id=item.id, ());\\n                  mutate(~variables=completeGame##variables, ())\\n                  |> ignore;\\n                }\\n              }\\n            />\\n            <label\\n              htmlFor={item.id}\\n              style={\\n                ReactDOMRe.Style.make(\\n                  ~color=loading ? \\\"orange\\\" : \\\"default\\\",\\n                  (),\\n                )\\n              }>\\n              {item.title ++ \\\" | \\\" ++ item.developer |> str}\\n            </label>\\n          </div>;\\n        }\\n      }\\n  </CompleteGameMutation>\\n</li>\\n```\\n\\nLike the Apollo `VideoGamesQuery` component we used earlier, the `CompleteGameMutation` component we see here passes to its children a mutate function as well as a results object.\\n\\nThis particular component is not the best example to show off how you could use that results object, as I only take advantage of it when a single item is being updated. If it is, I color the text of the item label green and call that the loading state.\\n\\nI’m no UX guy, but I think that’ll do for today.\\n\\n## Wrapping Up\\n\\nReasonML is a pretty powerful and expressive language. If you are new to ReasonML and itching to build some type safe user interfaces, here are some resources to learn from:\\n\\n1. Many of the third party tools we use in JavaScript come out of the box with ReasonML. This [article by David Kopal explains how](https://medium.freecodecamp.org/psst-heres-why-reasonreact-is-the-best-way-to-write-react-5088d434d035?source=linkShare-2467058898a1-1543182271), along with some other reasons why writing ReasonML is so cool.\\n2. [Jared Forsyth’s blog](https://jaredforsyth.com) has great content about ReasonML and OCaml. He is one of the most active contributors to the community.\\n3. I get most of my learning done through the [ReasonML docs](reasonml.github.io) and the [BuckleScript docs](bucklescript.github.io). They are easy to follow and contain powerful insights on the design choices when implementing language features.\\n\\nIf you want to quickly set up your own GraphQL server then check out my other article, [Learn to Build a GraphQL Server with Minimal Effort](https://medium.freecodecamp.org/learn-to-build-a-graphql-server-with-minimal-effort-fc7fcabe8ebd).\\n\\nI hope to write more articles about ReasonML and GraphQL in the future. If these interest you then by all means follow me on [Medium](https://medium.com/@iwilsonq) and on [Twitter](https://twitter.com/iwilsonq)!\\n\\nThis article was originally published in [Open GraphQL on Medium](_https://medium.com/open-graphql/reasonml-with-graphql-the-future-of-type-safe-web-applications-65be2e8f34c8_).\\n\";","import BlogListItem from './BlogListItem';\nimport { Article } from '../pages';\nimport Card from './Card';\n\ninterface Props {\n  articles: Article[];\n}\n\nconst BlogList: React.FunctionComponent<Props> = props =>\n  props.articles.length === 0 ? null : (\n    <Card>\n      {props.articles.map(article => (\n        <BlogListItem article={article} key={article.slug} />\n      ))}\n    </Card>\n  );\n\nexport default BlogList;\n","import Link from 'next/link';\nimport Markdown from 'react-markdown';\nimport { Article } from '../pages';\n\nfunction truncateSummary(content: string): string {\n  const excerpt = content.slice(0, 200).trimEnd();\n  for (let i = excerpt.length; i > 0; i--) {\n    if (excerpt[i] === '\\n') {\n      return excerpt.slice(0, i);\n    }\n  }\n  return excerpt + '...';\n}\n\nfunction reformatDate(fullDate: Date): string {\n  const date = new Date(fullDate);\n  return date.toDateString().slice(4);\n}\n\ninterface Props {\n  article: Article;\n}\n\nconst BlogListItem: React.FunctionComponent<Props> = ({ article }) => {\n  return (\n    <Link key={article.slug} href={{ pathname: `/blog/${article.slug}` }}>\n      <a>\n        <div className=\"article\">\n          <div className=\"article-content\">\n            <div className=\"article-hero\"></div>\n            <div className=\"hero-text\">\n              <h2>{article.document.data.title}</h2>\n              <h3> {reformatDate(article.document.data.date)}</h3>\n            </div>\n          </div>\n        </div>\n        <style jsx>{`\n          .article-link-content {\n            display: flex;\n          }\n          .article {\n            width: 100%;\n          }\n          .article-hero {\n            position: relative;\n            background: url(${article.document.data.hero_image}) center;\n            opacity: 0.3;\n            color: #000;\n            height: 200px;\n          }\n          .article-content {\n            position: relative;\n            padding: 16px;\n          }\n\n          .hero-text {\n            color: #000;\n            padding: 16px;\n            position: absolute;\n            top: 0;\n            left: 16px;\n          }\n        `}</style>\n      </a>\n    </Link>\n  );\n};\n\nexport default BlogListItem;\n","interface Props {\n  children: JSX.Element | JSX.Element[];\n}\n\nconst Card: React.FunctionComponent<Props> = props => (\n  <div className=\"card\">\n    {props.children}\n    <style jsx>{`\n      .card {\n        background: #fff;\n        border-radius: 8px;\n        box-shadow: 20px 20px 60px #d9d9d9, -20px -20px 60px #fff;\n        padding: 16px;\n      }\n    `}</style>\n  </div>\n);\n\nexport default Card;\n","import Link from 'next/link';\nimport { useRouter } from 'next/router';\n\nconst Header: React.FunctionComponent = () => {\n  const { pathname } = useRouter();\n\n  return (\n    <header className=\"header\">\n      <nav>\n        <Link href=\"/\">\n          <a>Ian Wilson</a>\n        </Link>\n        <div>\n          <Link href=\"/blog\">\n            <a className={pathname.match(/\\/blog/) ? 'active' : ''}>Blog</a>\n          </Link>\n          <Link href=\"/about\">\n            <a className={pathname.match(/\\/about/) ? 'active' : ''}>About</a>\n          </Link>\n        </div>\n      </nav>\n      <style jsx>\n        {`\n          nav {\n            display: flex;\n            justify-content: space-between;\n          }\n\n          header {\n            font-family: 'Lato', sans-serif;\n          }\n\n          a {\n            color: '#000';\n            margin-right: 21px;\n            padding: 8px 10px;\n            text-decoration: none;\n          }\n\n          a.active {\n            background-color: rgba(40, 28, 77, 0.3);\n            border-radius: 4px;\n          }\n        `}\n      </style>\n    </header>\n  );\n};\n\nexport default Header;\n","import Header from './Header';\n\ninterface Props {\n  children: JSX.Element | JSX.Element[];\n  siteDescription?: string;\n  siteTitle?: string;\n}\n\nconst Layout: React.FunctionComponent<Props> = props => (\n  <div className=\"layout\">\n    <Header />\n    <div className=\"content\">{props.children}</div>\n    <style jsx global>\n      {`\n        @import url('https://fonts.googleapis.com/css?family=Lato:400,700|Lora&display=swap');\n        html,\n        body {\n          color: #000;\n          font-family: 'Lora', Helvetica, sans-serif;\n          font-size: 10px;\n          margin: 0;\n          overflow-x: hidden;\n        }\n\n        h1,\n        h2,\n        h3 {\n          font-family: 'Lato';\n          font-weight: 700;\n        }\n\n        h1 {\n          font-size: 3.4rem;\n        }\n        h2 {\n          font-size: 3.1rem;\n        }\n        h3 {\n          font-size: 2.8rem;\n        }\n\n        p,\n        ol,\n        ul,\n        li,\n        a,\n        blockquote,\n        b,\n        em,\n        strong {\n          font-size: 2.1rem;\n        }\n\n        a {\n          color: #0070f3;\n        }\n\n        pre,\n        code,\n        code[class*='language-'],\n        pre[class*='language-'] {\n          font-size: 1.6rem;\n        }\n\n        img {\n          width: 100%;\n        }\n\n        @media (max-width: 727px) {\n          p,\n          ol,\n          ul,\n          li,\n          a {\n            font-size: 1.8rem;\n          }\n          h1 {\n            font-size: 3rem;\n          }\n          pre,\n          code,\n          code[class*='language-'],\n          pre[class*='language-'] {\n            font-size: 1.6rem;\n          }\n        }\n\n        a {\n          text-decoration: none;\n        }\n      `}\n    </style>\n    <style jsx>{`\n      .layout {\n        max-width: 680px;\n        margin: 20px auto;\n        position: relative;\n        padding: 24px;\n      }\n\n      .layout a {\n        text-decoration: none;\n        color: blue;\n      }\n\n      .layout a:hover {\n        opacity: 0.6;\n      }\n    `}</style>\n  </div>\n);\n\nexport default Layout;\n","import Head from 'next/head';\n\ninterface Props {\n  description: string;\n  title?: string;\n}\n\nfunction Meta({ title, description }: Props): JSX.Element {\n  const displayTitle = title ? `${title} | Ian Wilson` : 'Ian Wilson';\n  return (\n    <Head>\n      <title>{displayTitle}</title>\n      <meta name=\"Description\" content={description}></meta>\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n      <meta\n        name=\"keywords\"\n        content=\"Software Engineer,Rust,JavaScript,ReasonML,GraphQL\"\n      />\n      <link rel=\"apple-touch-icon\" sizes=\"57x57\" href=\"/apple-icon-57x57.png\" />\n      <link rel=\"apple-touch-icon\" sizes=\"60x60\" href=\"/apple-icon-60x60.png\" />\n      <link rel=\"apple-touch-icon\" sizes=\"72x72\" href=\"/apple-icon-72x72.png\" />\n      <link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"/apple-icon-76x76.png\" />\n      <link rel=\"apple-touch-icon\" sizes=\"114x114\" href=\"/apple-icon-114x114.png\" />\n      <link rel=\"apple-touch-icon\" sizes=\"120x120\" href=\"/apple-icon-120x120.png\" />\n      <link rel=\"apple-touch-icon\" sizes=\"144x144\" href=\"/apple-icon-144x144.png\" />\n      <link rel=\"apple-touch-icon\" sizes=\"152x152\" href=\"/apple-icon-152x152.png\" />\n      <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/apple-icon-180x180.png\" />\n      <link\n        rel=\"icon\"\n        type=\"image/png\"\n        sizes=\"192x192\"\n        href=\"/android-icon-192x192.png\"\n      />\n      <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"/favicon-32x32.png\" />\n      <link rel=\"icon\" type=\"image/png\" sizes=\"96x96\" href=\"/favicon-96x96.png\" />\n      <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"/favicon-16x16.png\" />\n      <link rel=\"manifest\" href=\"/manifest.json\" />\n      <meta name=\"msapplication-TileColor\" content=\"#ffffff\" />\n      <meta name=\"msapplication-TileImage\" content=\"/ms-icon-144x144.png\" />\n      <meta name=\"theme-color\" content=\"#ffffff\"></meta>\n      <meta charSet=\"utf-8\" />\n    </Head>\n  );\n}\n\nexport default Meta;\n","import sort from 'fast-sort';\nimport matter from 'gray-matter';\nimport { NextPage } from 'next';\n\nimport Layout from '../../components/Layout';\nimport BlogList from '../../components/BlogList';\nimport Meta from '../../components/Meta';\nimport { Article } from '..';\n\ninterface Props {\n  articles: Article[];\n}\n\nconst Index: NextPage<Props> = props => (\n  <Layout>\n    <Meta title=\"The Blog\" description=\"Learn from the written word\" />\n    <h1>The Blog</h1>\n    <BlogList articles={props.articles} />\n  </Layout>\n);\n\nIndex.getInitialProps = async function() {\n  const siteConfig = await import(`../../data/config.json`);\n  const context = require.context('../../articles', true, /\\.md$/);\n  const keys = context.keys();\n  const values = keys.map<{ default: string }>(context);\n  const articles = keys.map(\n    (key: string, index: number): Article => {\n      const slug = key\n        .replace(/^.*[\\\\\\/]/, '')\n        .split('.')\n        .slice(0, -1)\n        .join('.');\n      const value = values[index];\n      const document = matter(value.default);\n      return {\n        document,\n        slug,\n      };\n    }\n  );\n  sort(articles).desc(a => a.document.data.date);\n  return {\n    articles,\n    ...siteConfig.default,\n  };\n};\n\nexport default Index;\n","module.exports = require(\"core-js/library/fn/object/define-property\");","module.exports = require(\"core-js/library/fn/object/get-own-property-descriptor\");","module.exports = require(\"core-js/library/fn/symbol\");","module.exports = require(\"core-js/library/fn/symbol/iterator\");","module.exports = require(\"core-js/library/fn/weak-map\");","module.exports = require(\"fast-sort\");","module.exports = require(\"gray-matter\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"prop-types\");","module.exports = require(\"prop-types-exact\");","module.exports = require(\"react\");","module.exports = require(\"styled-jsx/style\");","module.exports = require(\"url\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzHA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpBA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAAA;AACA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AADA,+CAAA;AACA;AADA;AAAA;AACA;AAfA;AACA;AAaA;AAAA;AACA;AAAA;AACA;AADA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;;;;;;;;;;;;AClBA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AAFA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AACA;AADA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACrBA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;;;;;;;;;;;;ACDA;AACA;;;;;;;;;;;;AAWA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAmBA;AACA;AAAA;;;;;;;;;;;;ACnCA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;;;;;;;;;ACVA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AADA;AAIA;AACA;AAEA;AACA;AACA;AADA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAKA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA,iBAKA;AACA;AACA;AACA;AAAA;AACA,iBAIA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;AAGA;AACA;AACA;AACA;;;;;;;;AAMA;AACA;AACA;AACA;;;;;;;;AAMA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AAEA;AACA;AAAA,mBAOA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAIA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAIA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AA5eA;AACA;AA4eA;AACA;;;;;;;;;;;;ACjgBA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;ACPA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;ACzBA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;;;;;;;;;;;;ACtBA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;;;;ACtGA;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClOA;AACA;AACA,aAEA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5BA;AAAA;;;;;;;;;;;;ACAA;AAAA;;;;;;;;;;;;ACAA;AAAA;;;;;;;;;;;;ACAA;AAAA;;;;;;;;;;;;ACAA;AAAA;;;;;;;;;;;;ACAA;AAAA;;;;;;;;;;;;ACAA;AAAA;;;;;;;;;;;;;;;;;;;;ACAA;AAEA;AACA;AAKA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;;;;;;;;;;;;;;;;;;;;;;;ACjBA;AACA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AAAA;AAAA;AAAA;;AAAA;AAwCA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AChEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAYA;;;;;;;;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVA;AAAA;AAAA;AAwCA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACjDA;AACA;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAsGA;;;;;;;;;;;;;;;;;;;;AChHA;AACA;AAMA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7CA;AACA;AAGA;AACA;AACA;AACA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAKA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AADA;AAIA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AChDA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}